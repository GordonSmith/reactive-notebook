(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Er="modulepreload",Cr=function(e,t){return new URL(e,t).href},ot={},h=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let d=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");o=d(n.map(c=>{if(c=Cr(c,r),c in ot)return;ot[c]=!0;const f=c.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(!!r)for(let _=s.length-1;_>=0;_--){const v=s[_];if(v.href===c&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${p}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":Er,f||(y.as="script"),y.crossOrigin="",y.href=c,u&&y.setAttribute("nonce",u),document.head.appendChild(y),f)return new Promise((_,v)=>{y.addEventListener("load",_),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return o.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var Tr=Object.defineProperty,i=(e,t)=>Tr(e,"name",{value:t,configurable:!0}),ke;const st=class extends Error{constructor(t,n){super(t),this.input=n}};i(st,"RuntimeError");let B=st;B.prototype.name="RuntimeError";function lt(e){return e&&typeof e.next=="function"&&typeof e.return=="function"}i(lt,"generatorish");function me(e){return()=>e}i(me,"constant");function te(e){return e}i(te,"identity");function ut(e){return()=>{throw e}}i(ut,"rethrow");const Dr=Array.prototype,kr=Dr.map;function N(){}i(N,"noop");const Me=1,se=2,de=3,ne=Symbol("no-observer"),Sr=Promise.resolve();function z(e,t,n,r){n||(n=ne),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:ge,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:N,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Sr,writable:!0},_reachable:{value:n!==ne,writable:!0},_rejector:{value:pt(this)},_shadow:{value:ct(t,r)},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}i(z,"Variable");Object.defineProperties(z.prototype,{_pending:{value:_t,writable:!0,configurable:!0},_fulfilled:{value:vt,writable:!0,configurable:!0},_rejected:{value:gt,writable:!0,configurable:!0},_resolve:{value:ht,writable:!0,configurable:!0},define:{value:mt,writable:!0,configurable:!0},delete:{value:bt,writable:!0,configurable:!0},import:{value:yt,writable:!0,configurable:!0}});function ct(e,t){return t?.shadow?new Map(Object.entries(t.shadow).map(([n,r])=>[n,new z(se,e).define([],r)])):null}i(ct,"initShadow");function dt(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}i(dt,"variable_attach");function ft(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}i(ft,"variable_detach");function ge(){throw ge}i(ge,"variable_undefined");function q(){throw q}i(q,"variable_stale");function pt(e){return t=>{throw t===q?t:t===ge?new B(`${e._name} is not defined`,e._name):t instanceof Error&&t.message?new B(t.message,e._name):new B(`${e._name} could not be resolved`,e._name)}}i(pt,"variable_rejector");function Ie(e){return()=>{throw new B(`${e} is defined more than once`)}}i(Ie,"variable_duplicate");function mt(e,t,n){switch(arguments.length){case 1:{n=e,e=t=null;break}case 2:{n=t,typeof e=="string"?t=null:(t=e,e=null);break}}return we.call(this,e==null?null:String(e),t==null?[]:kr.call(t,this._resolve,this),typeof n=="function"?n:me(n))}i(mt,"variable_define");function ht(e){return this._shadow?.get(e)??this._module._resolve(e)}i(ht,"variable_resolve");function we(e,t,n){const r=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(ft,this),t.forEach(dt,this),this._inputs=t,this._definition=n,this._value=void 0,n===N?o._variables.delete(this):o._variables.add(this),e!==this._name||r.get(e)!==this){let a,s;if(this._name)if(this._outputs.size)r.delete(this._name),s=this._module._resolve(this._name),s._outputs=this._outputs,this._outputs=new Set,s._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(this)]=s},this),s._outputs.forEach(o._updates.add,o._updates),o._dirty.add(s).add(this),r.set(this._name,s);else if((s=r.get(this._name))===this)r.delete(this._name);else if(s._type===de)s._duplicates.delete(this),this._duplicate=void 0,s._duplicates.size===1&&(s=s._duplicates.keys().next().value,a=r.get(this._name),s._outputs=a._outputs,a._outputs=new Set,s._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(a)]=s}),s._definition=s._duplicate,s._duplicate=void 0,o._dirty.add(a).add(s),o._updates.add(s),r.set(this._name,s));else throw new Error;if(this._outputs.size)throw new Error;e&&((s=r.get(e))?s._type===de?(this._definition=Ie(e),this._duplicate=n,s._duplicates.add(this)):s._type===se?(this._outputs=s._outputs,s._outputs=new Set,this._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(s)]=this},this),o._dirty.add(s).add(this),r.set(e,this)):(s._duplicate=s._definition,this._duplicate=n,a=new z(de,this._module),a._name=e,a._definition=this._definition=s._definition=Ie(e),a._outputs=s._outputs,s._outputs=new Set,a._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(s)]=a}),a._duplicates=new Set([this,s]),o._dirty.add(s).add(a),o._updates.add(s).add(a),r.set(e,a)):r.set(e,this)),this._name=e}return this._version>0&&++this._version,o._updates.add(this),o._compute(),this}i(we,"variable_defineImpl");function yt(e,t,n){return arguments.length<3&&(n=t,t=e),we.call(this,String(t),[n._resolve(String(e))],te)}i(yt,"variable_import");function bt(){return we.call(this,null,[],N)}i(bt,"variable_delete");function _t(){this._observer.pending&&this._observer.pending()}i(_t,"variable_pending");function vt(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)}i(vt,"variable_fulfilled");function gt(e){this._observer.rejected&&this._observer.rejected(e,this._name)}i(gt,"variable_rejected");const wt=Symbol("variable"),xt=Symbol("invalidation"),Et=Symbol("visibility");function re(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["@variable",wt],["invalidation",xt],["visibility",Et],...t])},_source:{value:null,writable:!0}})}i(re,"Module");Object.defineProperties(re.prototype,{_resolve:{value:At,writable:!0,configurable:!0},redefine:{value:Ct,writable:!0,configurable:!0},define:{value:Tt,writable:!0,configurable:!0},derive:{value:It,writable:!0,configurable:!0},import:{value:Dt,writable:!0,configurable:!0},value:{value:St,writable:!0,configurable:!0},variable:{value:kt,writable:!0,configurable:!0},builtin:{value:Ot,writable:!0,configurable:!0}});function Ct(e){const t=this._scope.get(e);if(!t)throw new B(`${e} is not defined`);if(t._type===de)throw new B(`${e} is defined more than once`);return t.define.apply(t,arguments)}i(Ct,"module_redefine");function Tt(){const e=new z(Me,this);return e.define.apply(e,arguments)}i(Tt,"module_define");function Dt(){const e=new z(Me,this);return e.import.apply(e,arguments)}i(Dt,"module_import");function kt(e,t){return new z(Me,this,e,t)}i(kt,"module_variable");async function St(e){let t=this._scope.get(e);if(!t)throw new B(`${e} is not defined`);if(t._observer===ne){t=this.variable(!0).define([e],te);try{return await he(this._runtime,t)}finally{t.delete()}}else return he(this._runtime,t)}i(St,"module_value");async function he(e,t){await e._compute();try{return await t._promise}catch(n){if(n===q)return he(e,t);throw n}}i(he,"module_revalue");function It(e,t){const n=new Map,r=new Set,o=[];function a(l){let u=n.get(l);return u||(u=new re(l._runtime,l._builtins),u._source=l,n.set(l,u),o.push([u,l]),r.add(l),u)}i(a,"alias");const s=a(this);for(const l of e){const{alias:u,name:d}=typeof l=="object"?l:{name:l};s.import(d,u??d,t)}for(const l of r)for(const[u,d]of l._scope)if(d._definition===te){if(l===this&&s._scope.has(u))continue;const c=d._inputs[0]._module;c._source&&a(c)}for(const[l,u]of o)for(const[d,c]of u._scope){const f=l._scope.get(d);if(!(f&&f._type!==se))if(c._definition===te){const p=c._inputs[0],m=p._module;l.import(p._name,d,n.get(m)||m)}else l.define(d,c._inputs.map($t),c._definition)}return s}i(It,"module_derive");function At(e){let t=this._scope.get(e),n;if(!t)if(t=new z(se,this),this._builtins.has(e))t.define(e,me(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))t.import(e,this._runtime._builtin);else{try{n=this._runtime._global(e)}catch(r){return t.define(e,ut(r))}n===void 0?this._scope.set(t._name=e,t):t.define(e,me(n))}return t}i(At,"module_resolve");function Ot(e,t){this._builtins.set(e,t)}i(Ot,"module_builtin");function $t(e){return e._name}i($t,"variable_name");const Ir=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:e=>setTimeout(e,0);function qe(e,t=Kt){const n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(const r in e)new z(se,n).define(r,[],e[r])}i(qe,"Runtime");Object.defineProperties(qe.prototype,{_precompute:{value:Mt,writable:!0,configurable:!0},_compute:{value:qt,writable:!0,configurable:!0},_computeSoon:{value:Lt,writable:!0,configurable:!0},_computeNow:{value:Nt,writable:!0,configurable:!0},dispose:{value:Pt,writable:!0,configurable:!0},module:{value:jt,writable:!0,configurable:!0}});function Pt(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})}i(Pt,"runtime_dispose");function jt(e,t=N){let n;if(e===void 0)return(n=this._init)?(this._init=null,n):new re(this);if(n=this._modules.get(e),n)return n;this._init=n=new re(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n}i(jt,"runtime_module");function Mt(e){this._precomputes.push(e),this._compute()}i(Mt,"runtime_precompute");function qt(){return this._computing||(this._computing=this._computeSoon())}i(qt,"runtime_compute");function Lt(){return new Promise(Ir).then(()=>this._disposed?void 0:this._computeNow())}i(Lt,"runtime_computeSoon");async function Nt(){let e=[],t,n,r=this._precomputes;if(r.length){this._precomputes=[];for(const a of r)a();await Rt(3)}t=new Set(this._dirty),t.forEach(function(a){a._inputs.forEach(t.add,t);const s=Jt(a);s>a._reachable?this._updates.add(a):s<a._reachable&&a._invalidate(),a._reachable=s},this),t=new Set(this._updates),t.forEach(function(a){a._reachable?(a._indegree=0,a._outputs.forEach(t.add,t)):(a._indegree=NaN,t.delete(a))}),this._computing=null,this._updates.clear(),this._dirty.clear(),t.forEach(function(a){a._outputs.forEach(Bt)});do{for(t.forEach(function(a){a._indegree===0&&e.push(a)});n=e.pop();)Yt(n),n._outputs.forEach(o),t.delete(n);t.forEach(function(a){Ft(a)&&(Gt(a,new B("circular definition")),a._outputs.forEach(zt),t.delete(a))})}while(t.size);function o(a){--a._indegree===0&&e.push(a)}i(o,"postqueue")}i(Nt,"runtime_computeNow");function Rt(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then(()=>{});return t}i(Rt,"runtime_defer");function Ft(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}i(Ft,"variable_circular");function Bt(e){++e._indegree}i(Bt,"variable_increment");function zt(e){--e._indegree}i(zt,"variable_decrement");function Vt(e){return e._promise.catch(e._rejector)}i(Vt,"variable_value");function fe(e){return new Promise(function(t){e._invalidate=t})}i(fe,"variable_invalidator");function Ut(e,t){let n=typeof IntersectionObserver=="function"&&t._observer&&t._observer._node,r=!n,o=N,a=N,s,l;return n&&(l=new IntersectionObserver(([u])=>(r=u.isIntersecting)&&(s=null,o())),l.observe(n),e.then(()=>(l.disconnect(),l=null,a()))),function(u){return r?Promise.resolve(u):l?(s||(s=new Promise((d,c)=>(o=d,a=c))),s.then(()=>u)):Promise.reject()}}i(Ut,"variable_intersector");function Yt(e){e._invalidate(),e._invalidate=N,e._pending();const t=e._value,n=++e._version,r=e._inputs,o=e._definition;let a=null;const s=e._promise=e._promise.then(l,l).then(u).then(d);function l(){return Promise.all(r.map(Vt))}i(l,"init");function u(c){if(e._version!==n)throw q;for(let f=0,p=c.length;f<p;++f)switch(c[f]){case xt:{c[f]=a=fe(e);break}case Et:{a||(a=fe(e)),c[f]=Ut(a,e);break}case wt:{c[f]=e;break}}return o.apply(t,c)}i(u,"define");function d(c){if(e._version!==n)throw q;return lt(c)?((a||fe(e)).then(Wt(c)),Ht(e,n,c)):c}i(d,"generate"),s.then(c=>{e._value=c,e._fulfilled(c)},c=>{c===q||e._version!==n||(e._value=void 0,e._rejected(c))})}i(Yt,"variable_compute");function Ht(e,t,n){const r=e._module._runtime;let o;function a(u){return new Promise(d=>d(n.next(o))).then(({done:d,value:c})=>d?void 0:Promise.resolve(c).then(u))}i(a,"compute");function s(){const u=a(d=>{if(e._version!==t)throw q;return o=d,l(d,u).then(()=>r._precompute(s)),e._fulfilled(d),d});u.catch(d=>{d===q||e._version!==t||(l(void 0,u),e._rejected(d))})}i(s,"recompute");function l(u,d){return e._value=u,e._promise=d,e._outputs.forEach(r._updates.add,r._updates),r._compute()}return i(l,"postcompute"),a(u=>{if(e._version!==t)throw q;return o=u,r._precompute(s),u})}i(Ht,"variable_generate");function Gt(e,t){e._invalidate(),e._invalidate=N,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(N),e._value=void 0,e._rejected(t)}i(Gt,"variable_error");function Wt(e){return function(){e.return()}}i(Wt,"variable_return");function Jt(e){if(e._observer!==ne)return!0;const t=new Set(e._outputs);for(const n of t){if(n._observer!==ne)return!0;n._outputs.forEach(t.add,t)}return!1}i(Jt,"variable_reachable");function Kt(e){return globalThis[e]}i(Kt,"window_global");function oe(e,t,n){n=n||{};var r=e.ownerDocument,o=r.defaultView.CustomEvent;typeof o=="function"?o=new o(t,{detail:n}):(o=r.createEvent("Event"),o.initEvent(t,!1,!1),o.detail=n),e.dispatchEvent(o)}i(oe,"dispatch");function Le(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}i(Le,"isarray");function Ne(e){return e===(e|0)+""}i(Ne,"isindex");function P(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}i(P,"inspectName");const Ar=Symbol.prototype.toString;function G(e){return Ar.call(e)}i(G,"formatSymbol");const{getOwnPropertySymbols:Or,prototype:{hasOwnProperty:$r}}=Object,{toStringTag:Pr}=Symbol,Zt={},le=Or;function ue(e,t){return $r.call(e,t)}i(ue,"isown");function ye(e){return e[Pr]||e.constructor&&e.constructor.name||"Object"}i(ye,"tagof");function I(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return Zt}}i(I,"valueof$1");const jr=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function Re(e){try{let t=jr.filter(({symbol:s})=>e[s]===!0);if(!t.length)return;const n=t.find(s=>!s.modifier),r=n.name==="Map"&&t.find(s=>s.modifier&&s.prefix),o=t.some(s=>s.arrayish),a=t.some(s=>s.setish);return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:o&&!a,setish:a}}catch{return null}}i(Re,"immutableName");const{getPrototypeOf:Fe,getOwnPropertyDescriptors:Mr}=Object,Qt=Fe({});function Be(e,t,n,r){let o=Le(e),a,s,l,u;e instanceof Map?e instanceof e.constructor?(a=`Map(${e.size})`,s=Xt):(a="Map()",s=K):e instanceof Set?e instanceof e.constructor?(a=`Set(${e.size})`,s=en):(a="Set()",s=K):o?(a=`${e.constructor.name}(${e.length})`,s=nn):(u=Re(e))?(a=`Immutable.${u.name}${u.name==="Record"?"":`(${e.size})`}`,o=u.arrayish,s=u.arrayish?rn:u.setish?tn:an):r?(a=ye(e),s=on):(a=ye(e),s=K);const d=document.createElement("span");d.className="observablehq--expanded",n&&d.appendChild(P(n));const c=d.appendChild(document.createElement("a"));c.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,c.appendChild(document.createTextNode(`${a}${o?" [":" {"}`)),c.addEventListener("mouseup",function(f){f.stopPropagation(),ae(d,xe(e,null,n,r))}),s=s(e);for(let f=0;!(l=s.next()).done&&f<20;++f)d.appendChild(l.value);if(!l.done){const f=d.appendChild(document.createElement("a"));f.className="observablehq--field",f.style.display="block",f.appendChild(document.createTextNode("  … more")),f.addEventListener("mouseup",function(p){p.stopPropagation(),d.insertBefore(l.value,d.lastChild.previousSibling);for(let m=0;!(l=s.next()).done&&m<19;++m)d.insertBefore(l.value,d.lastChild.previousSibling);l.done&&d.removeChild(d.lastChild.previousSibling),oe(d,"load")})}return d.appendChild(document.createTextNode(o?"]":"}")),d}i(Be,"inspectExpanded");function*Xt(e){for(const[t,n]of e)yield sn(t,n);yield*K(e)}i(Xt,"iterateMap$1");function*en(e){for(const t of e)yield Ve(t);yield*K(e)}i(en,"iterateSet$1");function*tn(e){for(const t of e)yield Ve(t)}i(tn,"iterateImSet$1");function*nn(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield L(t,I(e,t),"observablehq--index"));for(const t in e)!Ne(t)&&ue(e,t)&&(yield L(t,I(e,t),"observablehq--key"));for(const t of le(e))yield L(G(t),I(e,t),"observablehq--symbol")}i(nn,"iterateArray$1");function*rn(e){let t=0;for(const n=e.size;t<n;++t)yield L(t,e.get(t),!0)}i(rn,"iterateImArray$1");function*on(e){for(const n in Mr(e))yield L(n,I(e,n),"observablehq--key");for(const n of le(e))yield L(G(n),I(e,n),"observablehq--symbol");const t=Fe(e);t&&t!==Qt&&(yield ze(t))}i(on,"iterateProto");function*K(e){for(const n in e)ue(e,n)&&(yield L(n,I(e,n),"observablehq--key"));for(const n of le(e))yield L(G(n),I(e,n),"observablehq--symbol");const t=Fe(e);t&&t!==Qt&&(yield ze(t))}i(K,"iterateObject$1");function*an(e){for(const[t,n]of e)yield L(t,n,"observablehq--key")}i(an,"iterateImObject$1");function ze(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(D(e,void 0,void 0,void 0,!0)),t}i(ze,"formatPrototype");function L(e,t,n){const r=document.createElement("div"),o=r.appendChild(document.createElement("span"));return r.className="observablehq--field",o.className=n,o.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(D(t)),r}i(L,"formatField$1");function sn(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(D(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(D(t)),n}i(sn,"formatMapField$1");function Ve(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(D(e)),t}i(Ve,"formatSetField");function Ae(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||e.contains(t.anchorNode)||e.contains(t.focusNode))}i(Ae,"hasSelection");function xe(e,t,n,r){let o=Le(e),a,s,l,u;if(e instanceof Map?e instanceof e.constructor?(a=`Map(${e.size})`,s=ln):(a="Map()",s=Z):e instanceof Set?e instanceof e.constructor?(a=`Set(${e.size})`,s=un):(a="Set()",s=Z):o?(a=`${e.constructor.name}(${e.length})`,s=fn):(u=Re(e))?(a=`Immutable.${u.name}${u.name==="Record"?"":`(${e.size})`}`,o=u.arrayish,s=u.arrayish?dn:u.setish?cn:pn):(a=ye(e),s=Z),t){const f=document.createElement("span");return f.className="observablehq--shallow",n&&f.appendChild(P(n)),f.appendChild(document.createTextNode(a)),f.addEventListener("mouseup",function(p){Ae(f)||(p.stopPropagation(),ae(f,xe(e)))}),f}const d=document.createElement("span");d.className="observablehq--collapsed",n&&d.appendChild(P(n));const c=d.appendChild(document.createElement("a"));c.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,c.appendChild(document.createTextNode(`${a}${o?" [":" {"}`)),d.addEventListener("mouseup",function(f){Ae(d)||(f.stopPropagation(),ae(d,Be(e,null,n,r)))},!0),s=s(e);for(let f=0;!(l=s.next()).done&&f<20;++f)f>0&&d.appendChild(document.createTextNode(", ")),d.appendChild(l.value);return l.done||d.appendChild(document.createTextNode(", …")),d.appendChild(document.createTextNode(o?"]":"}")),d}i(xe,"inspectCollapsed");function*ln(e){for(const[t,n]of e)yield mn(t,n);yield*Z(e)}i(ln,"iterateMap");function*un(e){for(const t of e)yield D(t,!0);yield*Z(e)}i(un,"iterateSet");function*cn(e){for(const t of e)yield D(t,!0)}i(cn,"iterateImSet");function*dn(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield ie(n-t-1)),yield D(e.get(n),!0),t=n;n>t+1&&(yield ie(n-t-1))}i(dn,"iterateImArray");function*fn(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield ie(n-t-1)),yield D(I(e,n),!0),t=n);n>t+1&&(yield ie(n-t-1));for(const r in e)!Ne(r)&&ue(e,r)&&(yield X(r,I(e,r),"observablehq--key"));for(const r of le(e))yield X(G(r),I(e,r),"observablehq--symbol")}i(fn,"iterateArray");function*Z(e){for(const t in e)ue(e,t)&&(yield X(t,I(e,t),"observablehq--key"));for(const t of le(e))yield X(G(t),I(e,t),"observablehq--symbol")}i(Z,"iterateObject");function*pn(e){for(const[t,n]of e)yield X(t,n,"observablehq--key")}i(pn,"iterateImObject");function ie(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}i(ie,"formatEmpty");function X(e,t,n){const r=document.createDocumentFragment(),o=r.appendChild(document.createElement("span"));return o.className=n,o.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(D(t,!0)),r}i(X,"formatField");function mn(e,t){const n=document.createDocumentFragment();return n.appendChild(D(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(D(t,!0)),n}i(mn,"formatMapField");function hn(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${yn(e.getUTCFullYear())}-${M(e.getUTCMonth()+1,2)}-${M(e.getUTCDate(),2)}${n||r||o||a?`T${M(n,2)}:${M(r,2)}${o||a?`:${M(o,2)}${a?`.${M(a,3)}`:""}`:""}Z`:""}`}i(hn,"format");function yn(e){return e<0?`-${M(-e,6)}`:e>9999?`+${M(e,6)}`:M(e,4)}i(yn,"formatYear");function M(e,t){return`${e}`.padStart(t,"0")}i(M,"pad");function bn(e){return hn(e,"Invalid Date")}i(bn,"formatDate");var qr=Error.prototype.toString;function _n(e){return e.stack||qr.call(e)}i(_n,"formatError");var Lr=RegExp.prototype.toString;function vn(e){return Lr.call(e)}i(vn,"formatRegExp");const Se=20;function gn(e,t,n,r){if(t===!1){if($e(e,/["\n]/g)<=$e(e,/`|\${/g)){const d=document.createElement("span");r&&d.appendChild(P(r));const c=d.appendChild(document.createElement("span"));return c.className="observablehq--string",c.textContent=JSON.stringify(e),d}const s=e.split(`
`);if(s.length>Se&&!n){const d=document.createElement("div");r&&d.appendChild(P(r));const c=d.appendChild(document.createElement("span"));c.className="observablehq--string",c.textContent="`"+Oe(s.slice(0,Se).join(`
`));const f=d.appendChild(document.createElement("span")),p=s.length-Se;return f.textContent=`Show ${p} truncated line${p>1?"s":""}`,f.className="observablehq--string-expand",f.addEventListener("mouseup",function(m){m.stopPropagation(),ae(d,D(e,t,!0,r))}),d}const l=document.createElement("span");r&&l.appendChild(P(r));const u=l.appendChild(document.createElement("span"));return u.className=`observablehq--string${n?" observablehq--expanded":""}`,u.textContent="`"+Oe(e)+"`",l}const o=document.createElement("span");r&&o.appendChild(P(r));const a=o.appendChild(document.createElement("span"));return a.className="observablehq--string",a.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),o}i(gn,"formatString");function Oe(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,wn)}i(Oe,"templatify");function wn(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}i(wn,"templatifyChar");function $e(e,t){for(var n=0;t.exec(e);)++n;return n}i($e,"count$1");var Nr=Function.prototype.toString,Rr={prefix:"async ƒ"},Fr={prefix:"async ƒ*"},it={prefix:"class"},Br={prefix:"ƒ"},zr={prefix:"ƒ*"};function xn(e,t){var n,r,o=Nr.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=Rr;break;case"AsyncGeneratorFunction":n=Fr;break;case"GeneratorFunction":n=zr;break;default:n=/^class\b/.test(o)?it:Br;break}return n===it?J(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(o))?J(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?J(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?J(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):J(n,"(…)",t)}i(xn,"inspectFunction");function J(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(P(n));var o=r.appendChild(document.createElement("span"));return o.className="observablehq--keyword",o.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}i(J,"formatFunction");const{prototype:{toString:Vr}}=Object;function D(e,t,n,r,o){let a=typeof e;switch(a){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=G(e);break}case"function":return xn(e,r);case"string":return gn(e,t,n,r);default:{if(e===null){a=null,e="null";break}if(e instanceof Date){a="date",e=bn(e);break}if(e===Zt){a="forbidden",e="[forbidden]";break}switch(Vr.call(e)){case"[object RegExp]":{a="regexp",e=vn(e);break}case"[object Error]":case"[object DOMException]":{a="error",e=_n(e);break}default:return(n?Be:xe)(e,t,r,o)}break}}const s=document.createElement("span");r&&s.appendChild(P(r));const l=s.appendChild(document.createElement("span"));return l.className=`observablehq--${a}`,l.textContent=e,s}i(D,"inspect$1");function ae(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),oe(t,"load")}i(ae,"replace");const Ur=/\s+\(\d+:\d+\)$/m,En=class{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!Cn(t)||t.parentNode&&t.parentNode!==r)&&(t=D(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);oe(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var o=document.createElement("div");o.className="observablehq--inspect",n&&o.appendChild(P(n)),o.appendChild(document.createTextNode((t+"").replace(Ur,""))),r.appendChild(o),oe(r,"error",{error:t})}};i(En,"Inspector");let be=En;be.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new be(e.appendChild(document.createElement("div")))}};function Cn(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}i(Cn,"isnode");function Tn(e,t){const n=document.createElement("div");if(new be(n).fulfilled(e),t)for(const r of t){let o=n;for(const a of r)o=o?.childNodes[a];o?.dispatchEvent(new Event("mouseup"))}return n}i(Tn,"inspect");function Dn(e){const t=document.createElement("div");return new be(t).rejected(e),t}i(Dn,"inspectError");function kn(e){if(!In(e))return;const t=e.querySelectorAll(".observablehq--expanded");if(t.length)return Array.from(t,n=>An(e,n))}i(kn,"getExpanded");function Sn(e){return e.nodeType===1}i(Sn,"isElement");function In(e){return Sn(e)&&e.classList.contains("observablehq")}i(In,"isInspector");function An(e,t){const n=[];for(;t!==e;)n.push(On(t)),t=t.parentNode;return n.reverse()}i(An,"getNodePath");function On(e){return Array.prototype.indexOf.call(e.parentNode.childNodes,e)}i(On,"getChildIndex");const Yr=["audio source[src]","audio[src]","img[src]","picture source[src]","video source[src]","video[src]"].join(),Hr=["img[srcset]","picture source[srcset]"].join(),Gr=["a[href][download]","link[href]"].join(),Wr=[[Yr,"src"],[Hr,"srcset"],[Gr,"href"]];function $n(e,t){const n=i(r=>t.get(Mn(r))??r,"resolve");for(const[r,o]of Wr)for(const a of e.querySelectorAll(r)){if(Pn(a))continue;const s=decodeURI(a.getAttribute(o));o==="srcset"?a.setAttribute(o,Ln(s,n)):a.setAttribute(o,n(s))}}i($n,"mapAssets");function Pn(e){return/(?:^|\s)external(?:\s|$)/i.test(e.getAttribute("rel")??"")}i(Pn,"isRelExternal");function jn(e){const t=e.indexOf("?"),n=e.indexOf("#"),r=t>=0&&n>=0?Math.min(t,n):t>=0?t:n;return r>=0?e.slice(0,r):e}i(jn,"asPath");function Mn(e){const t=jn(e);return qn(t)?t:`./${t}`}i(Mn,"asImportPath");function qn(e){return["./","../","/"].some(t=>e.startsWith(t))}i(qn,"isImportPath");function Ln(e,t){return e.trim().split(/\s*,\s*/).filter(n=>n).map(n=>{const r=n.split(/\s+/),o=t(r[0]);return o&&(r[0]=encodeURI(o)),r.join(" ")}).join(", ")}i(Ln,"resolveSrcset");function Ue(e,t){const{root:n,expanded:r}=e,o=Rn(t,n)?t:Tn(t,r[n.childNodes.length]);Ye(e,o)}i(Ue,"display");function Ye(e,t){if(t.nodeType===11){let n;for(;n=t.firstChild;)e.root.appendChild(n)}else e.root.appendChild(t)}i(Ye,"displayNode");function Nn(e,t){Ye(e,Dn(t))}i(Nn,"displayError");function Rn(e,t){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor&&(!e.parentNode||t.contains(e))}i(Rn,"isDisplayable");function H(e){for(e.autoclear=!1,e.expanded=Array.from(e.root.childNodes,kn);e.root.lastChild;)e.root.lastChild.remove()}i(H,"clear");function Fn(e,{autodisplay:t,assets:n}){return{_error:!1,_node:e.root,pending(){this._error&&(this._error=!1,H(e))},fulfilled(r){t?(n&&r instanceof Element&&$n(r,n),H(e),Ue(e,r)):e.autoclear&&H(e)},rejected(r){console.error(r),this._error=!0,H(e),Nn(e,r)}}}i(Fn,"observe$1");async function*ce(e){let t,n,r=!1;const o=e(a=>(n=a,t?(t(a),t=void 0):r=!0,a));if(o!=null&&typeof o!="function")throw new Error(typeof o=="object"&&"then"in o&&typeof o.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield r?(r=!1,n):new Promise(a=>t=a)}finally{o?.()}}i(ce,"observe");function _e(e){return ce(t=>{const n=Bn(e),r=Pe(e),o=i(()=>t(Pe(e)),"inputted");return e.addEventListener(n,o),r!==void 0&&t(r),()=>e.removeEventListener(n,o)})}i(_e,"input");function Pe(e){const t=e,n=e;if("type"in e)switch(e.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(n.selectedOptions,r=>r.value)}return t.value}i(Pe,"valueof");function Bn(e){if("type"in e)switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change"}return"input"}i(Bn,"eventof");async function*He(){for(;;)yield Date.now()}i(He,"now");async function*zn(e){let t;const n=[],r=e(o=>(n.push(o),t&&(t(n.shift()),t=void 0),o));if(r!=null&&typeof r!="function")throw new Error(typeof r=="object"&&"then"in r&&typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield n.length?n.shift():new Promise(o=>t=o)}finally{r?.()}}i(zn,"queue");function Ge(e,t){return ce(n=>{let r;const o=new ResizeObserver(([a])=>{const s=a.contentRect.width;s!==r&&n(r=s)});return o.observe(e,t),()=>o.disconnect()})}i(Ge,"width");const Jr=Object.freeze(Object.defineProperty({__proto__:null,input:_e,now:He,observe:ce,queue:zn,width:Ge},Symbol.toStringTag,{value:"Module"}));function We(e){let t;return Object.defineProperty(ce(n=>{t=n,e!==void 0&&t(e)}),"value",{get:i(()=>e,"get"),set:i(n=>(e=n,void t?.(e)),"set")})}i(We,"Mutable");function Vn(e){const t=We(e);return[t,{get value(){return t.value},set value(n){t.value=n}}]}i(Vn,"Mutator");function Un(e,t,n,r=Fn){const{id:o,body:a,inputs:s=[],outputs:l=[],output:u,autodisplay:d,autoview:c,automutable:f}=n,p=t.variables,m=e.variable(r(t,n),{shadow:{}}),y=u??(l.length?`cell ${o}`:null);if(t.autoclear=!0,s.includes("display")||s.includes("view")){let _=-1;const v=new m.constructor(2,m._module);if(v.define(s.filter(b=>b!=="display"&&b!=="view"),()=>{const b=m._version;return g=>{if(b<_)throw new Error("stale display");if(t.variables[0]!==m)throw new Error("stale display");return b>_&&H(t),_=b,Ue(t,g),g}}),m._shadow.set("display",v),s.includes("view")){const b=new m.constructor(2,m._module,null,{shadow:{}});b._shadow.set("display",v),b.define(["display"],g=>ee=>_e(g(ee))),m._shadow.set("view",b)}}else d||H(t);if(p.push(m.define(y,s,a)),u!=null){if(c){const _=je(u,"viewof$");p.push(e.define(_,[u],_e))}else if(f){const _=je(u,"mutable "),v=`cell ${o}`;m.define(_,[v],([b])=>b),p.push(e.define(u,s,a),e.define(v,[u],Vn),e.define(`mutable$${_}`,[v],([,b])=>b))}}else for(const _ of l)p.push(e.variable(!0).define(_,[y],v=>v[_]))}i(Un,"define");function je(e,t){if(!e.startsWith(t))throw new Error(`expected ${t}: ${e}`);return e.slice(t.length)}i(je,"unprefix");const at=new Map,Yn=i((e,t=document.baseURI)=>{const n=new URL(e,t).href;let r=at.get(n);return r||(r=new Q(n,e.split("/").pop()),at.set(n,r)),r},"FileAttachment");async function Y(e){const t=await fetch(e.href);if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}i(Y,"fetchFile");const Hn=class{constructor(t,n=Gn(t),r,o){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mimeType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastModified",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:`${t}`,enumerable:!0},mimeType:{value:`${n}`,enumerable:!0},lastModified:{value:r===void 0?void 0:+r,enumerable:!0},size:{value:o===void 0?void 0:+o,enumerable:!0}})}async url(){return this.href}async blob(){return(await Y(this)).blob()}async arrayBuffer(){return(await Y(this)).arrayBuffer()}async text(t){return t===void 0?(await Y(this)).text():new TextDecoder(t).decode(await this.arrayBuffer())}async json(){return(await Y(this)).json()}async stream(){return(await Y(this)).body}async dsv({delimiter:t=",",array:n=!1,typed:r=!1}={}){const[o,a]=await Promise.all([this.text(),h(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]),s=a.dsvFormat(t);return(n?s.parseRows:s.parse)(o,r&&a.autoType)}async csv(t){return this.dsv({...t,delimiter:","})}async tsv(t){return this.dsv({...t,delimiter:"	"})}async image(t){const n=await this.url();return new Promise((r,o)=>{const a=new Image;new URL(n,document.baseURI).origin!==location.origin&&(a.crossOrigin="anonymous"),Object.assign(a,t),a.onload=()=>r(a),a.onerror=()=>o(new Error(`Unable to load file: ${this.name}`)),a.src=n})}async arrow(){const[t,n]=await Promise.all([h(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow@17.0.0/+esm"),[],import.meta.url),Y(this)]);return t.tableFromIPC(n)}async arquero(t){let n,r;switch(this.mimeType){case"application/json":n=this.text(),r="fromJSON";break;case"text/tab-separated-values":t?.delimiter===void 0&&(t={...t,delimiter:"	"});case"text/csv":n=this.text(),r="fromCSV";break;default:if(/\.arrow$/i.test(this.name))n=this.arrow(),r="fromArrow";else if(/\.parquet$/i.test(this.name))n=this.parquet(),r="fromArrow";else throw new Error(`unable to determine Arquero loader: ${this.name}`);break}const[o,a]=await Promise.all([h(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),n]);return o[r](a,t)}async parquet(){const[t,n,r]=await Promise.all([h(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow@17.0.0/+esm"),[],import.meta.url),h(()=>import("https://cdn.jsdelivr.net/npm/parquet-wasm/+esm"),[],import.meta.url).then(async o=>(await o.default("https://cdn.jsdelivr.net/npm/parquet-wasm/esm/parquet_wasm_bg.wasm"),o)),this.arrayBuffer()]);return t.tableFromIPC(n.readParquet(new Uint8Array(r)).intoIPCStream())}async xml(t="application/xml"){return new DOMParser().parseFromString(await this.text(),t)}async html(){return this.xml("text/html")}};i(Hn,"AbstractFile");let Kr=Hn;function Gn(e){const t=e.lastIndexOf("."),n=e.lastIndexOf("/");switch(t>0&&(n<0||t>n)?e.slice(t).toLowerCase():""){case".csv":return"text/csv";case".tsv":return"text/tab-separated-values";case".json":return"application/json";case".html":return"text/html";case".xml":return"application/xml";case".png":return"image/png";case".jpg":return"image/jpg";case".js":return"text/javascript";default:return"application/octet-stream"}}i(Gn,"guessMimeType");const Wn=class extends Kr{constructor(t,n,r,o,a){super(n,r,o,a),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{value:t})}};i(Wn,"FileAttachmentImpl");let Q=Wn;Object.defineProperty(Q,"name",{value:"FileAttachment"});Yn.prototype=Q.prototype;function Jn(e){function t(n){const r=e(n+="");if(r==null)throw new Error(`File not found: ${n}`);if(typeof r=="object"&&"url"in r){const{url:o,mimeType:a}=r;return new Q(o,n,a)}return new Q(r,n)}return i(t,"FileAttachment"),t.prototype=Q.prototype,t}i(Jn,"fileAttachments");function Kn(e,{length:t=50,fallback:n="untitled",separator:r="-"}={}){const o=e.normalize("NFD").replace(/[\u0300-\u036f'‘’]/g,"").toLowerCase().split(/\W+/g).filter(Zn);let a=-1;for(let s=0,l=o.length;++a<l;)if((s+=o[a].length)+a>t){o[a]=o[a].substring(0,t-s+o[a].length-a);break}return o.slice(0,a+1).filter(Boolean).join(r)||n.slice(0,t)}i(Kn,"sluggify");function Zn(e){return e.length>0}i(Zn,"nonempty");async function Je(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return new Uint8Array(n).reduce((r,o)=>r<<8n|BigInt(o),0n)}i(Je,"sha256");function Ke(e,t){return e.toString(36).padStart(t,"0").slice(0,t)}i(Ke,"base36");async function Qn(e,...t){return Ke(await Je(JSON.stringify([e,...t])),16)}i(Qn,"hash");async function Xn(e){return/^[\w-]+$/.test(e)?e:`${Kn(er(e))}.${Ke(await Je(e),8)}`}i(Xn,"nameHash");function er(e){return e.replace(/^.*\//,"")}i(er,"basename");const Ze=i((e,t)=>new Qe(e,tr(t)),"DatabaseClient");function tr({id:e,since:t}={}){const n={};return e!==void 0&&(n.id=e),t!==void 0&&(n.since=new Date(t)),n}i(tr,"normalizeOptions");const nr=class{constructor(t,n){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:t,enumerable:!0},options:{value:n,enumerable:!0}})}async sql(t,...n){const r=await this.cachePath(t,...n),o=await fetch(r);if(!o.ok)throw new Error(`failed to fetch: ${r}`);return await o.json().then(Xe)}async cachePath(t,...n){return`.observable/cache/${await Xn(this.name)}-${await Qn(t,...n)}.json`}};i(nr,"DatabaseClientImpl");let Qe=nr;function Xe({rows:e,schema:t,date:n,...r}){for(const o of t)switch(o.type){case"bigint":{const{name:a}=o;for(const s of e){const l=s[a];l!=null&&(s[a]=Number(l))}break}case"date":{const{name:a}=o;for(const s of e){const l=s[a];l!=null&&(s[a]=rr(l))}break}}return n!=null&&(n=new Date(n)),Object.assign(e,{schema:t,date:n},r)}i(Xe,"revive");function rr(e){return new Date(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}(?::\d{2})?$/.test(e)?e+"Z":e)}i(rr,"asDate");Ze.revive=Xe;Ze.prototype=Qe.prototype;Object.defineProperty(Qe,"name",{value:"DatabaseClient"});function or(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}i(or,"canvas");function ir(e,t,n=devicePixelRatio){const r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=`${e}px`;const o=r.getContext("2d");return o.scale(n,n),o}i(ir,"context2d");function ar(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n}i(ar,"svg$1");function sr(e){return document.createTextNode(e)}i(sr,"text$1");let Zr=0;function lr(e){return new Qr(`O-${e==null?"":`${e}-`}${++Zr}`)}i(lr,"uid");const ur=class{constructor(t){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=t,this.href=new URL(`#${t}`,location.href).href}toString(){return`url(${this.href})`}};i(ur,"Id");let Qr=ur;const Xr=Object.freeze(Object.defineProperty({__proto__:null,canvas:or,context2d:ir,svg:ar,text:sr,uid:lr},Symbol.toStringTag,{value:"Module"}));var eo=function(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},to=function(e,t,n,r,o){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},pe;const cr=class{constructor(){pe.set(this,void 0),Object.defineProperty(this,"fulfilled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rejected",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.next()}async next(){const t=await eo(this,pe,"f");return to(this,pe,new Promise((n,r)=>(this.fulfilled=n,this.rejected=r))),{done:!1,value:t}}throw(){return{done:!0}}return(){return{done:!0}}};i(cr,"Observer");let no=cr;pe=new WeakMap;const ro=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/lodash/+esm"),[],import.meta.url).then(e=>e.default),"_"),oo=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),"aq"),io=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow@17.0.0/+esm"),[],import.meta.url),"Arrow"),ao=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/d3/+esm"),[],import.meta.url),"d3"),so=i(()=>h(()=>import("./dot-DK4iDc2--CoxbyWso.js"),[],import.meta.url).then(e=>e.dot),"dot"),lo=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm@1.29.0/+esm"),[],import.meta.url),"duckdb"),uo=i(()=>h(()=>import("./duckdb-DkM9_nXT-CP8KLkt2.js"),[],import.meta.url).then(e=>e.DuckDBClient),"DuckDBClient"),co=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/echarts/dist/echarts.esm.min.js/+esm"),[],import.meta.url),"echarts"),fo=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url),"htl"),po=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.html),"html"),mo=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.svg),"svg"),ho=i(()=>h(()=>import("./inputs-CsCXZHQ8-KeQxNFLu.js"),[],import.meta.url),"Inputs"),yo=i(()=>h(()=>import("./leaflet-CkvVhxBL-D54mqpIu.js"),[],import.meta.url),"L"),bo=i(()=>h(()=>import("./mapboxgl-C0i2HzjJ-C94UFoDx.js"),[],import.meta.url).then(e=>e.default),"mapboxgl"),_o=i(()=>h(()=>import("./md-Bxvu6Hld-Dqg_R13L.js"),[],import.meta.url).then(e=>e.md),"md"),vo=i(()=>h(()=>import("./mermaid-CFg6sgdO-D4vzUd-0.js"),[],import.meta.url).then(e=>e.mermaid),"mermaid"),go=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/@observablehq/plot/+esm"),[],import.meta.url),"Plot"),wo=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/react/+esm"),[],import.meta.url),"React"),xo=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/react-dom/client/+esm"),[],import.meta.url),"ReactDOM"),Eo=i(()=>h(()=>import("./tex-ayRXOMLZ-Cmotc_8h.js"),[],import.meta.url).then(e=>e.tex),"tex"),Co=i(()=>h(()=>import("https://cdn.jsdelivr.net/npm/topojson-client/+esm"),[],import.meta.url),"topojson"),To=i(()=>h(()=>import("./vega-lite-CESXoehe-ClQwpDTB.js"),[],import.meta.url).then(e=>e.vl),"vl"),Do=Object.freeze(Object.defineProperty({__proto__:null,Arrow:io,DuckDBClient:uo,Inputs:ho,L:yo,Plot:go,React:wo,ReactDOM:xo,_:ro,aq:oo,d3:ao,dot:so,duckdb:lo,echarts:co,htl:fo,html:po,mapboxgl:bo,md:_o,mermaid:vo,svg:mo,tex:Eo,topojson:Co,vl:To},Symbol.toStringTag,{value:"Module"}));Ee.resolve=et;function Ee(...e){return e.length===1?import(et(e[0])):Promise.all(e.map(t=>Ee(t))).then(t=>Object.assign({},...t))}i(Ee,"require");function dr(e){const t=e.split("/"),n=e.startsWith("@")?[t.shift(),t.shift()].join("/"):t.shift(),r=n.indexOf("@",1),o=r>0?n.slice(0,r):n,a=r>0?n.slice(r):"",s=t.length>0?`/${t.join("/")}`:"";return{name:o,range:a,path:s}}i(dr,"parseNpmSpecifier");function et(e){const t=String(e);if(fr(t)||pr(t))return t;const{name:n,range:r,path:o}=dr(t);return`https://cdn.jsdelivr.net/npm/${n}${r}${o+(mr(o)||hr(o)?"":"/+esm")}`}i(et,"resolve");function fr(e){return/^\w+:/.test(e)}i(fr,"isProtocol");function pr(e){return/^(\.\/|\.\.\/|\/)/.test(e)}i(pr,"isLocal");function mr(e){return/(\.\w*)$/.test(e)}i(mr,"isFile");function hr(e){return/(\/)$/.test(e)}i(hr,"isDirectory");const ko=i(()=>O(A("aapl.csv")),"aapl"),So=i(()=>O(A("alphabet.csv")),"alphabet"),Io=i(()=>O(A("cars.csv")),"cars"),Ao=i(()=>O(A("citywages.csv")),"citywages"),Oo=i(()=>O(A("diamonds.csv")),"diamonds"),$o=i(()=>O(A("flare.csv")),"flare"),Po=i(()=>O(A("industries.csv")),"industries"),jo=i(()=>yr(A("miserables.json")),"miserables"),Mo=i(()=>O(A("olympians.csv")),"olympians"),qo=i(()=>O(A("penguins.csv")),"penguins"),Lo=i(()=>O(A("pizza.csv")),"pizza"),No=i(()=>O(A("weather.csv")),"weather");function A(e){return`https://cdn.jsdelivr.net/npm/@observablehq/sample-datasets/${e}`}i(A,"dataset");async function yr(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.json()}i(yr,"json");async function br(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.text()}i(br,"text");async function O(e,t){const[n,r]=await Promise.all([br(e),h(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]);return r.csvParse(n,r.autoType)}i(O,"csv");const Ro=Object.freeze(Object.defineProperty({__proto__:null,aapl:ko,alphabet:So,cars:Io,citywages:Ao,diamonds:Oo,flare:$o,industries:Po,miserables:jo,olympians:Mo,penguins:qo,pizza:Lo,weather:No},Symbol.toStringTag,{value:"Module"})),Fo=document.querySelector("main")??document.body,Bo={now:i(()=>He(),"now"),width:i(()=>Ge(Fo),"width"),DatabaseClient:i(()=>Ze,"DatabaseClient"),FileAttachment:i(()=>Yn,"FileAttachment"),Generators:i(()=>Jr,"Generators"),Mutable:i(()=>We,"Mutable"),DOM:i(()=>Xr,"DOM"),require:i(()=>Ee,"require"),__ojs_observer:i(()=>()=>new no,"__ojs_observer"),...Do,...Ro};let _r=(ke=class{constructor(e=Bo){Object.defineProperty(this,"runtime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"main",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=new qe({...e,__ojs_runtime:i(()=>t,"__ojs_runtime")});this.runtime=Object.assign(t,{fileAttachments:Jn}),this.main=t.module()}define(e,t,n){Un(this.main,e,t,n)}},i(ke,"NotebookRuntime"),ke);const ve=new _r;ve.runtime;const zo=ve.main;ve.define.bind(ve);zo.constructor.prototype.defines=function(e){return this._scope.has(e)||this._builtins.has(e)||this._runtime._builtin._scope.has(e)};const vr=class extends _r{stateById=new Map;constructor(){super()}has(t){return this.stateById.has(t)}async add(t,n,r){let o=this.stateById.get(t);o&&this.remove(t),o={root:r,expanded:[],variables:[]},this.stateById.set(t,o),this.define(o,n),await this.runtime._computeNow()}async remove(t){const n=this.stateById.get(t);n&&([...n.variables].forEach(r=>r.delete()),this.stateById.delete(t),n.root?.remove(),await this.runtime._computeNow())}async removeAll(){const t=[...this.stateById.keys()];for(const n of t)this.remove(n);await this.runtime._computeNow()}render(t,n){t.forEach(r=>{const o=document.createElement("div");o.id=`cell-${r.id}`,o.className="observablehq observablehq--cell",this.stateById.set(r.id,{root:o,expanded:[],variables:[]}),this.define(this.stateById.get(r.id),r),n.appendChild(o)})}};i(vr,"NotebookRuntime");let Vo=vr;(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@import"https://cdn.jsdelivr.net/npm/@observablehq/inputs/dist/index.css";:root{--serif: "Source Serif 4", "Iowan Old Style", "Apple Garamond", "Palatino Linotype", "Times New Roman", "Droid Serif", Times, serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sans-serif: "Inter", -apple-system, BlinkMacSystemFont, "avenir next", avenir, helvetica, "helvetica neue", ubuntu, roboto, noto, "segoe ui", arial, sans-serif;--monospace: "Spline Sans Mono", Menlo, Consolas, monospace;--monospace-font: 14px/1.5 var(--monospace);--max-width: 960px }html{font:17px/1.5 var(--serif);-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--theme-background);color:var(--theme-foreground);margin:16px 0;padding:16px 24px}body{margin:auto;max-width:var(--max-width)}h1,h2,h3,h4,h5,h6{color:var(--theme-foreground-alt);font-weight:700;line-height:1.15;margin-top:0;margin-bottom:.25rem;text-wrap:balance}h2+p,h3+p,h4+p,h2+table,h3+table,h4+table{margin-top:0}.observablehq:first-of-type h1+h2{color:var(--theme-foreground);font-size:20px;font-style:italic;font-weight:400;margin-bottom:1rem}a[href]{color:var(--theme-foreground-focus);text-decoration:none}a[href]:hover,a[href]:focus{text-decoration:underline}pre,code,tt{font-family:var(--monospace);font-size:82.35294117%}pre code,figcaption code{font-size:inherit}pre[data-language]{position:relative}pre[data-language]:before{content:attr(data-language);float:right;margin:-4px -8px -4px -4px;padding:4px;font-size:12px;line-height:21px;color:var(--theme-foreground-muted)}h1 code,h2 code,h3 code,h4 code,h5 code,h6 code{font-size:88.235294117%}h2[id] a[href],h3[id] a[href]{color:inherit}pre{line-height:1.5}img{max-width:100%}p,table,figure,figcaption,h1,h2,h3,h4,h5,h6,.katex-display{max-width:640px}blockquote,ol,ul{max-width:600px}blockquote{margin:1rem 1.5rem}ul,ol{padding-left:28px}hr{height:1px;margin:1rem 0;padding:1rem 0;border:none;background:no-repeat center/100% 1px linear-gradient(to right,var(--theme-foreground-faintest),var(--theme-foreground-faintest))}pre{background-color:var(--theme-background-alt);border-radius:4px;margin:1rem -1rem;min-height:1.5em;padding:4px 1rem;overflow-x:auto;box-sizing:border-box;white-space:pre-wrap}input:not([type]),input[type=email],input[type=number],input[type=password],input[type=range],input[type=search],input[type=tel],input[type=text],input[type=url]{width:240px}input,canvas,button{vertical-align:middle}button,input,textarea{accent-color:var(--theme-foreground-focus)}table{width:100%;border-collapse:collapse;font:13px/1.2 var(--sans-serif)}table pre,table code,table tt{font-size:inherit;line-height:inherit}th>pre:only-child,td>pre:only-child{margin:0;padding:0}th{color:var(--theme-foreground);text-align:left;vertical-align:bottom}td{color:var(--theme-foreground-alt);vertical-align:top}th,td{padding:3px 6.5px 3px 0}th:last-child,td:last-child{padding-right:0}tr:not(:last-child){border-bottom:solid 1px var(--theme-foreground-faintest)}thead tr{border-bottom:solid 1px var(--theme-foreground-fainter)}figure,table{margin:1rem 0}figure img{max-width:100%}figure>h2,figure>h3{font-family:var(--sans-serif)}figure>h2{font-size:20px}figure>h3{font-size:16px;font-weight:400}figcaption{font:small var(--sans-serif);color:var(--theme-foreground-muted)}.observablehq--collapsed,.observablehq--expanded.observablehq--inspect a{cursor:pointer}.observablehq--caret{margin-right:4px;vertical-align:baseline}.observablehq--field{text-indent:-1rem;margin-left:1rem}.observablehq--inspect{font:var(--monospace-font);overflow-x:auto;white-space:pre;display:block;padding:2px 0}.observablehq--inspect.observablehq--import{white-space:normal}.observablehq--inspect::-webkit-scrollbar{display:none}.observablehq--error .observablehq--inspect{word-break:break-all;white-space:pre-wrap}.observablehq--string-expand{margin-left:6px;padding:2px 6px;border-radius:2px;font-size:80%;background:var(--theme-background-alt);cursor:pointer;vertical-align:middle}.observablehq--keyword{color:var(--syntax-keyword)}.observablehq--index,.observablehq--key{color:var(--syntax-definition)}.observablehq--symbol,.observablehq--regexp,.observablehq--string{color:var(--syntax-string)}.observablehq--null{color:var(--syntax-keyword)}.observablehq--undefined{color:var(--syntax-variable)}.observablehq--prototype-key{color:var(--syntax-comment)}.observablehq--bigint,.observablehq--boolean,.observablehq--date,.observablehq--forbidden,.observablehq--number{color:var(--syntax-literal)}.observablehq--error{color:var(--theme-error)}.observablehq--cell{margin:17px 0;min-height:1px}.tok-link{color:var(--syntax-link)}.tok-strong{font-weight:600}.tok-emphasis{font-style:italic}.tok-keyword{color:var(--syntax-keyword)}.tok-atom{color:var(--syntax-atom)}.tok-literal{color:var(--syntax-literal)}.tok-string{color:var(--syntax-string)}.tok-comment{color:var(--syntax-comment)}.tok-invalid{color:var(--syntax-invalid)}.tok-variable{color:var(--syntax-variable)}.tok-definition{color:var(--syntax-definition)}.tok-meta{color:var(--syntax-meta)}.plot-d6a7b5{--plot-background: var(--theme-background)}p .plot-d6a7b5{display:inline-block}.observablehq--cell:empty{min-height:0}.observablehq--cell:not(:empty)+pre{margin-top:-11px}:root{--syntax-link: var(--theme-foreground-focus);--syntax-keyword: #e36209;--syntax-atom: #032f62;--syntax-literal: #6f42c1;--syntax-string: #22863a;--syntax-comment: var(--theme-foreground-muted);--syntax-invalid: var(--theme-error);--syntax-definition: #005cc5;--syntax-variable: var(--theme-foreground-alt);--syntax-meta: #d73a49}:root{--theme-background-b: color-mix(in srgb, var(--theme-foreground) 4%, var(--theme-background-a));--theme-background: var(--theme-background-a);--theme-background-alt: var(--theme-background-b);--theme-foreground-alt: color-mix(in srgb, var(--theme-foreground) 90%, var(--theme-background-a));--theme-foreground-muted: color-mix(in srgb, var(--theme-foreground) 60%, var(--theme-background-a));--theme-foreground-faint: color-mix(in srgb, var(--theme-foreground) 50%, var(--theme-background-a));--theme-foreground-fainter: color-mix(in srgb, var(--theme-foreground) 30%, var(--theme-background-a));--theme-foreground-faintest: color-mix(in srgb, var(--theme-foreground) 14%, var(--theme-background-a));--theme-error: #e7040f;color-scheme:light}:root{--theme-foreground: #1b1e23;--theme-foreground-focus: #3b5fc0;--theme-background-a: #ffffff}.inputs-3a86ea-table tr:not(:last-child) td,.inputs-3a86ea-table tr:not(:last-child) th{border-bottom-color:var(--theme-foreground-faintest)}.inputs-3a86ea-table thead tr td,.inputs-3a86ea-table thead tr th{border-bottom-color:var(--theme-foreground-fainter)}.inputs-3a86ea-table thead th{background:var(--theme-background)}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();function Uo(e,t){return e`## Phone Call Dashbord

_Current selection count:  ${t.length}_
`}function Yo(e,t){e(t.element)}async function Ho(e,t,n){const{GraphHtml:r}=await h(()=>import("https://cdn.jsdelivr.net/npm/@hpcc-js/graph/+esm"),[],import.meta.url).then(s=>{if(!("GraphHtml"in s))throw new SyntaxError("export 'GraphHtml' not found");return s}),o=e`<div style="height:400px;width:${t};padding-bottom:10px"></div>`;n(o);const a=new r().target(o).dragSingleNeighbors(!0).edgeColor("#287EC4").edgeStrokeWidth(1.66).edgeArcDepth(2.5).forceDirectedAlphaDecay(.01).layout("Circle").applyScaleOnLayout(!1).on("vertex_click",(s,l,u)=>console.log("click",s,l,u)).on("vertex_dblclick",(s,l,u)=>console.log("dblclick",s,l,u)).on("vertex_mousein",(s,l,u)=>console.log("mousein",s,l,u)).on("vertex_mouseover",(s,l,u)=>console.log("mouseover",s,l,u)).on("vertex_mouseout",(s,l,u)=>console.log("mouseout",s,l,u)).render();return{GraphHtml:r,placeholder:o,graph:a}}function Go(e){function t(n){const[r,o]=e.extent(n,l=>l.start),a=e.timeDay.range(e.timeDay.floor(r),e.timeDay.offset(e.timeDay.floor(o),1));return e.bin().value(l=>+l.start).thresholds(a)(n).map(l=>({day:new Date(l.x0),count:l.length}))}return{binCalls:t}}function Wo(e){function t(n){if(!n||!n.length)return[];const[r,o]=e.extent(n,u=>u.start),a=e.timeDay.range(e.timeDay.floor(r),e.timeDay.offset(e.timeDay.floor(o),1)),s=e.bin().value(u=>+u.start).thresholds(a)(n),l=[];for(const u of s){const d=e.rollups(u,c=>c.length,c=>c.cluster_type??c.caller_type);for(const[c,f]of d)l.push({day:new Date(u.x0),cluster_type:c,count:f})}return l}return{binCallsByCluster:t}}function Jo(e,t){return{binnedCalls:e(t)}}function Ko(e,t){return{filteredBinnedCalls:e(t)}}function Zo(e,t,n){const r=e(t),o=e(n);return{binnedCallsByCluster:r,filteredBinnedCallsByCluster:o}}function Qo(e,t,n,r){return e.plot({width:960,height:200,x:{type:"utc",label:"Day",labelAnchor:"right"},y:{grid:!0,label:"# Calls"},marks:[e.areaY(t,{x:"day",y:"count",curve:"catmull-rom",fillOpacity:.2}),e.lineY(t,{x:"day",y:"count",curve:"catmull-rom"}),e.ruleY([0]),(o,a,s,l,u)=>{const d=l.marginLeft,c=l.width-l.marginRight,f=l.marginTop,p=l.height-l.marginBottom,m=_=>n(_.selection?.map(a.x.invert)),y=r.brushX().extent([[d,f],[c,p]]).on("brush end",m);return r.create("svg:g").call(y).node()}]})}function Xo(e,t,n,r){return e.plot({width:t,height:200,marginRight:80,x:{type:"utc",label:"Day",labelAnchor:"right"},y:{grid:!0,label:"# Calls"},marks:[e.areaY(n,{x:"day",y:"count",fy:"cluster_type",curve:"step",fillOpacity:.2,fill:o=>r[o.cluster_type].color}),e.lineY(n,{x:"day",y:"count",fy:"cluster_type",curve:"step",stroke:o=>r[o.cluster_type].color}),e.ruleY([0])]})}function ei(e,t,n,r,o){return e.table(t,{columns:["start","caller_id","callee_id","duration"],header:{start:"When",caller_id:"By",callee_id:"To",duration:"Duration"},format:{start:a=>a.toLocaleDateString()+" "+a.toLocaleTimeString(),caller_id:a=>n(r[a])??a,callee_id:a=>n(r[a])??a,duration:a=>o(a)}})}function ti(e){return e`---

## Rough Work

_GJS rough work_
`}function ni(e){return e`
### Table Helpers`}function ri(e,t,n,r){const o=e({}),a=t.filter((s,l)=>{l===0&&(o.value={});const u=(!n||s.start>=n)&&(!r||s.start<r);return u&&(o.value[s.caller_id]=!0,o.value[s.callee_id]=!0),u});return{filteredCallsMap:o,filteredCalls:a}}function oi(e){return e`filteredCallsMap`}function ii(e,t){e(t)}function ai(e){return e`filteredCalls`}function si(e,t){e(t)}function li(){function e(t){if(t==null||isNaN(t))return"";const n=Math.max(0,Math.round(t/1e3)),r=Math.floor(n/60),o=n%60;return r===0?o+"s":r+"m "+o+"s"}return{formatDuration:e}}function ui(e,t,n){function r(a){const s=e.rgb(a);return(s.r*299+s.g*587+s.b*114)/1e3>128?"black":"white"}function o(a){return t.html`<div style="background: ${n[a.type].color};color: ${r(n[a.type].color)};padding: 0 0.5rem;justify-content: end;">${a.label}</div>`}return{readableColor:r,backColor:o}}function ci(e){const t=e(null),n=e(null);return{start:t,end:n,setStartEnd:o=>{t.value=o?.[0]??0,n.value=o?.[1]??Math.Infinity}}}function di(e){return e`---

### Graph Helpers`}function fi(e,t,n,r){const o={},a={},s=e([]),l=e([]);return s.value=Object.keys(t).map((u,d)=>{const c=n[+u],f=r[c.type].color,p={categoryID:c.type,id:+u,text:c.label,icon:{imageChar:"fa-user",height:32,fill:f}};p.textBoxAnnotationsS=[],o[+u]=p;const m=t[u];return Object.keys(m).forEach((y,_)=>{const b={id:+u<+y?`${u}-${y}`:`${y}-${u}`,source:+u,target:+y,__calls:m[y]};a[b.id]?a[b.id].__calls.push(...b.__calls):a[b.id]=b}),p}),l.value=Object.values(a).map(u=>(u.source=o[u.source],u.target=o[u.target],u)).filter(u=>u.source&&u.target),{idxMap:o,edgeIdxMap:a,vertices:s,edges:l}}function pi(e,t,n){e.data({vertices:t??[],edges:n??[]}).layout("ForceDirected").lazyRender()}function mi(e,t){e.highlightVerticies(t).lazyRender()}function hi(e,t){const n=Object.keys(e.events).map(o=>{const a=e.events[o],s=e.entities[a.entityIds[0]];return{id:o,caller_id:+a.entityIds[0],callee_id:+a.entityIds[1],caller_type:s.type,start:new Date(a.time.start),end:new Date(a.time.end),duration:new Date(a.time.end)-new Date(a.time.start)}});t(n);const r={start:new Date(Math.min(...n.map(o=>o.start))),end:new Date(Math.max(...n.map(o=>o.end)))};return t(r),{calls:n,callRange:r}}async function yi(e){const{test:t}=await h(()=>import("./lib-TRrTUMzT.js"),[],import.meta.url).then(r=>{if(!("test"in r))throw new SyntaxError("export 'test' not found");return r}),n=t();return e(n),{test:t,xxx:n}}function bi(e){return e`---

## Timeline Helpers
`}function _i(e){return e`phoneIdToEntityDict`}function vi(e,t){const n={};for(const[r,o]of Object.entries(e.entities))n[+r]=o;return t(n),{phoneIdToEntityDict:n}}function gi(e){return e`phoneEntityTypeToTypeDict`}function wi(e,t){const n={};for(const[r,o]of Object.entries(e.entityTypes))n[r]=o;return t(n),{phoneEntityTypeToTypeDict:n}}function xi(e){return e`idToEntityLabelDict`}function Ei(e,t){const n={};for(const[r,o]of Object.entries(e))n[+o]=r;return t(n),{idToEntityLabelDict:n}}function Ci(e,t,n,r){function o(c){return new Date(c.toISOString().split("T")[0])}const a=e.start,s=e.end,l=new Date(e.start.getUTCFullYear(),0,1),u=new Date(e.end.getUTCFullYear(),11,31),d=t.scaleUtc().domain([l,u]).range([n.left,r-n.right]);return{getDate:o,now:a,until:s,nowDate:l,untilDate:u,scaleX:d}}function Ti(){return{margin:{top:80,right:20,bottom:20,left:20}}}function Di(e,t,n){return{timeline:e(t,{from:n.domain()[0],until:n.domain()[1]})}}function ki(e,t,n){function r(o,a){const s={},l={};let u=o;const{from:d,until:c,margin:f,height:p,onClickItem:m}={from:new Date().setFullYear(new Date().getFullYear()+1),until:new Date().setFullYear(new Date().getFullYear()+1),margin:{top:80,right:20,bottom:20,left:20},height:200,onClickItem:()=>{},...a},y=3600*1e3,v=365.24*(24*y),b=["yearly","daily","weekly","grid","yearlyGrid"];let g=e.scaleUtc().domain([d,c]).range([f.left,t-f.right]);const ee=g.copy();Math.abs(g.invert(0)-g.invert(1))/y;const Ce=[1,Math.round(v*10)],V=(x,T)=>{for(const[k,S]of x)if(T<k)return S;return[]},C=(x="")=>typeof x!="function"?e.utcFormat(x):x;return s.yearly=(x,T)=>{const k=[[5e-4,[e.utcHour,"%B %-d, %Y %H:%M"]],[.05,[e.utcDay,"%B %-d, %Y"]],[3,[e.utcMonth,R=>{const Te=R.getUTCMonth()===0&&R.getUTCDate()===1?"%Y – %B":"%B";return e.utcFormat(Te)(R)}]],[1/0,[e.utcYear,"%Y"]]];let[S,w]=V(k,T);w=C(w);const E=x.attr("transform",`translate(0,${f.top-48})`).call(e.axisTop(g).ticks(S).tickFormat(w).tickSizeOuter(0));E.select(".domain").remove(),E.selectAll("text").attr("y",0).attr("x",6).style("text-anchor","start"),E.selectAll("line").attr("y1",-7).attr("y2",6)},s.daily=(x,T)=>{const k=[[5e-4,[e.utcMinute,"%M"]],[.05,[e.utcHour,"%H"]],[1,[e.utcDay,"%-d"]],[3,[e.utcDay,""]],[8,[e.utcMonth,"%B"]],[13,[e.utcMonth,"%b"]],[22,[e.utcMonth,R=>e.utcFormat("%B")(R).charAt(0)]],[33,[e.utcMonth.every(3),"Q%q"]],[1/0,[e.utcMonth.every(3),""]]];let[S,w]=V(k,T);w=C(w);const E=x.attr("transform",`translate(0,${f.top-28})`).call(e.axisTop(g).ticks(S).tickFormat(w).tickSizeOuter(0));E.select(".domain").remove(),E.selectAll("text").attr("y",0).attr("x",6).style("text-anchor","start"),E.selectAll("line").attr("y1",-7).attr("y2",0)},s.weekly=(x,T)=>{const k=[[10,[e.timeMonday,R=>+e.utcFormat("%-W")(R)+1]],[33,[e.timeMonday,""]],[1/0,[e.timeMonday.every(4),""]]];let[S,w]=V(k,T);w=C(w);const E=x.attr("transform",`translate(0,${f.top-8})`).call(e.axisTop(g).ticks(S).tickFormat(w).tickSizeOuter(0));E.select(".domain").remove(),E.selectAll("line").style("visibility",T>k[0][0]?"visible":"hidden"),E.selectAll("text").attr("y",0).attr("x",6).style("text-anchor","start"),E.selectAll("line").attr("y1",-7).attr("y2",0)},s.grid=(x,T)=>{const k=[[.001,[e.utcMinute]],[.025,[e.utcMinute.every(30)]],[.05,[e.utcHour]],[.5,[e.utcHour.every(6)]],[1,[e.utcDay]],[8,[e.timeMonday]],[22,[e.utcMonth]],[1/0,[e.utcMonth.every(3)]]],[S]=V(k,T),w=x.attr("transform",`translate(0,${f.top})`).call(e.axisTop(g).ticks(S).tickSizeOuter(0));w.select(".domain").remove(),w.selectAll("text").remove(),w.selectAll("line").attr("stroke-width",.5).attr("y1",0).attr("y2",p-f.top-f.bottom)},s.yearlyGrid=(x,T)=>{const k=[[3,[e.utcMonth,"%B"]],[1/0,[e.utcYear,"%Y"]]];let[S,w]=V(k,T);w=C(w);const E=x.attr("transform",`translate(0,${f.top})`).call(e.axisTop(g).ticks(S).tickFormat(w).tickSizeOuter(0));E.select(".domain").remove(),E.selectAll("text").remove(),E.selectAll("line").attr("y1",0).attr("y2",p-f.top-f.bottom)},(()=>{const x=e.create("svg").attr("width",t).attr("height",p).attr("viewBox",[0,0,t,p]).attr("style","max-width: 100%; height: auto; height: intrinsic;"),T=x.node(),k=x.append("g").classed("timeline-axis",!0);b.forEach($=>{l[$]=k.append("g").classed($,!0)});const S=4,w=1,E=$=>{e.range($.length);const De=$.map(j=>g(j.day)),nt=n(De,S*2+w),gr=e.extent($,j=>j.count),rt=e.scaleSequential(e.interpolateBuPu).domain(gr),wr=x.selectAll("circle").data($).join(j=>j.append("circle").on("click",m).style("fill",F=>rt(F.count)).style("cursor","pointer").attr("r",4).attr("cx",(F,U)=>De[U]).attr("cy",(F,U)=>nt[U]+120).append("title").text(F=>F.id),j=>j.style("fill",F=>rt(F.count)).attr("cx",(F,U)=>De[U]).attr("cy",(F,U)=>nt[U]+130)),xr=Math.abs(g.invert(0)-g.invert(1))/y;return b.forEach(j=>{l[j].call(s[j],xr)}),wr},R=()=>({start:g.domain()[0],end:g.domain()[1]}),tt=E(o),Te=e.zoom().scaleExtent(Ce).extent([[f.left,0],[t-f.right,0]]).translateExtent([[f.left,0],[t-f.right,0]]).on("zoom",({transform:$})=>{g=$.rescaleX(ee),E(u),T.value={start:g.domain()[0],end:g.domain()[1]},T.dispatchEvent(new CustomEvent("input"))});return x.call(Te),{element:T,update:$=>{u=$,E(u)},items:tt,getBounds:R}})()}return{Timeline:r}}function Si(e){function t(n,r){const o=new Float64Array(n.length),a=r**2,s=.001;let l=null,u=null;const d=(c,f)=>{let p=l;for(;p;){const m=p.index;if(a-s>(n[m]-c)**2+(o[m]-f)**2)return!0;p=p.next}return!1};for(const c of e.range(n.length).sort((f,p)=>n[f]-n[p])){for(;l&&n[l.index]<n[c]-a;)l=l.next;if(o[c]=0,d(n[c],o[c])){let p=l;o[c]=1/0;do{const m=p.index,y=n[m]-n[c],_=Math.sqrt(a-y*y);let v=o[m]+_;Math.abs(v)<Math.abs(o[c])&&!d(n[c],v)&&(o[c]=v);let b=o[m]-_;Math.abs(b)<Math.abs(o[c])&&!d(n[c],b)&&(o[c]=b),p=p.next}while(p)}const f={index:c,next:null};l===null?l=u=f:u=u.next=f}return o}return{dodge:t}}function Ii(e,t){function n(r,{gap:o=1,ticks:a=50,dynamic:s=!1,direction:l,...u}){const d=e.dot(r,u),{render:c}=d;return d.render=function(){const f=c.apply(this,arguments),p=t.select(f).selectAll("circle"),m=[],[y,_,v,b,g,ee]=l==="x"?["cx","cy","x","y",t.forceX,t.forceY]:["cy","cx","y","x",t.forceY,t.forceX];for(const C of p){const W={x:+C.getAttribute(y),y:+C.getAttribute(_),r:+C.getAttribute("r")};m.push(W)}const Ce=t.forceSimulation(m).force("x",g(C=>C[v]).strength(.8)).force("y",ee(C=>C[b]).strength(.05)).force("collide",t.forceCollide().radius(C=>C.r+o).iterations(3)).tick(a).stop();return V(),s&&Ce.on("tick",V).restart(),f;function V(){p.attr(y,(C,W)=>m[W].x).attr(_,(C,W)=>m[W].y)}},d}return{beeswarm:n}}function Ai(e,t){const n=e.map((r,o)=>({id:o,day:r.day,count:r.count}));return t(n),{timelineData:n}}function Oi(e){return e`
<style type="text/css">
  .timeline-axis {
    --daily-gridline-color: rgb(194, 199, 200);
    --yearly-gridline-color: rgb(81, 93, 93);
    --yearly-tick-color: rgb(81, 93, 93);
    --yearly-label-color: rgb(60, 79, 81);
    --daily-tick-color: rgb(161, 173, 173);
    --daily-label-color: rgb(60, 79, 81);
    --weekly-tick-color: rgb(161, 173, 173);
    --weekly-label-color: rgb(60, 79, 81);
  }

  .timeline-axis line {
    shape-rendering: geometricPrecision;
    stroke-width: 0.5;
  }

  .timeline-axis .yearly line {
    stroke: var(--yearly-tick-color);
  }

  .timeline-axis .yearly text {
    color: var(--yearly-label-color);
  }

  .timeline-axis .daily line {
    stroke: var(--daily-tick-color);
  }

  .timeline-axis .daily text {
    color: var(--daily-label-color);
  }

  .timeline-axis .weekly line {
    stroke: var(--weekly-tick-color);
  }

  .timeline-axis .weekly text {
    color: var(--weekly-label-color);
  }

  .timeline-axis .grid line {
    stroke: var(--daily-gridline-color);
  }

  .timeline-axis .yearlyGrid line {
    stroke: var(--yearly-gridline-color);
  }
</style>
`}function $i(e){return e`---
`}function Pi(e){return e`
### Data Loaders
`}function ji(e){return e`adjacencyList`}async function Mi(e,t){return{adjacencyList:await e("./data/adjacencyList.json").json().then(t)}}function qi(e){return e`timeBarData`}async function Li(e,t){return{timeBarData:await e("./data/timeBarData.json").json().then(t)}}function Ni(e){return e`groupToChartIdsDict`}async function Ri(e,t){return{groupToChartIdsDict:await e("./data/groupToChartIdsDict.json").json().then(t)}}function Fi(e){return e`phonesChartData`}async function Bi(e,t){return{phonesChartData:await e("./data/phonesChartData.json").json().then(t)}}function zi(e){return e`entityLabelToIdDict`}async function Vi(e,t){return{entityLabelToIdDict:await e("./data/entityLabelToIdDict.json").json().then(t)}}function Ui(e){return e`phonesTimeLineData`}async function Yi(e,t){return{phonesTimeLineData:await e("./data/phonesTimeLineData.json").json().then(t)}}const Hi=[{id:1,mode:"md",pinned:!1,hidden:!1,body:Uo,inputs:["md","filteredCalls"],outputs:[],autodisplay:!0,autoview:!1},{id:2,mode:"js",pinned:!1,hidden:!1,body:Yo,inputs:["display","timeline"],outputs:[],autodisplay:!1},{id:3,mode:"js",pinned:!1,hidden:!1,body:Ho,inputs:["html","width","display"],outputs:["GraphHtml","placeholder","graph"],autodisplay:!1},{id:4,mode:"js",pinned:!1,hidden:!1,body:Go,inputs:["d3"],outputs:["binCalls"],autodisplay:!1},{id:5,mode:"js",pinned:!1,hidden:!1,body:Wo,inputs:["d3"],outputs:["binCallsByCluster"],autodisplay:!1},{id:6,mode:"js",pinned:!1,hidden:!1,body:Jo,inputs:["binCalls","calls"],outputs:["binnedCalls"],autodisplay:!1},{id:7,mode:"js",pinned:!1,hidden:!1,body:Ko,inputs:["binCalls","filteredCalls"],outputs:["filteredBinnedCalls"],autodisplay:!1},{id:8,mode:"js",pinned:!1,hidden:!1,body:Zo,inputs:["binCallsByCluster","calls","filteredCalls"],outputs:["binnedCallsByCluster","filteredBinnedCallsByCluster"],autodisplay:!1},{id:9,mode:"js",pinned:!1,hidden:!1,body:Qo,inputs:["Plot","binnedCalls","setStartEnd","d3"],outputs:[],autodisplay:!0},{id:10,mode:"js",pinned:!1,hidden:!1,body:Xo,inputs:["Plot","width","filteredBinnedCallsByCluster","phoneEntityTypeToTypeDict"],outputs:[],autodisplay:!0},{id:11,mode:"js",pinned:!1,hidden:!1,body:ei,inputs:["Inputs","filteredCalls","backColor","phoneIdToEntityDict","formatDuration"],outputs:[],autodisplay:!0},{id:12,mode:"md",pinned:!1,hidden:!1,body:ti,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:13,mode:"md",pinned:!1,hidden:!1,body:ni,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:14,mode:"js",pinned:!1,hidden:!1,body:ri,inputs:["Mutable","calls","start","end"],outputs:["filteredCallsMap","filteredCalls"],autodisplay:!1},{id:15,mode:"md",pinned:!1,hidden:!1,body:oi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:16,mode:"js",pinned:!1,hidden:!1,body:ii,inputs:["display","filteredCallsMap"],outputs:[],autodisplay:!1},{id:17,mode:"md",pinned:!1,hidden:!1,body:ai,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:18,mode:"js",pinned:!1,hidden:!1,body:si,inputs:["display","filteredCalls"],outputs:[],autodisplay:!1},{id:19,mode:"js",pinned:!1,hidden:!1,body:li,inputs:[],outputs:["formatDuration"],autodisplay:!1},{id:20,mode:"js",pinned:!1,hidden:!1,body:ui,inputs:["d3","htl","phoneEntityTypeToTypeDict"],outputs:["readableColor","backColor"],autodisplay:!1},{id:21,mode:"js",pinned:!1,hidden:!1,body:ci,inputs:["Mutable"],outputs:["start","end","setStartEnd"],autodisplay:!1},{id:22,mode:"md",pinned:!1,hidden:!1,body:di,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:23,mode:"js",pinned:!1,hidden:!1,body:fi,inputs:["Mutable","adjacencyList","phoneIdToEntityDict","phoneEntityTypeToTypeDict"],outputs:["idxMap","edgeIdxMap","vertices","edges"],autodisplay:!1},{id:24,mode:"js",pinned:!1,hidden:!1,body:pi,inputs:["graph","vertices","edges"],outputs:[],autodisplay:!1},{id:25,mode:"js",pinned:!1,hidden:!1,body:mi,inputs:["graph","filteredCallsMap"],outputs:[],autodisplay:!1},{id:26,mode:"js",pinned:!1,hidden:!1,body:hi,inputs:["phonesTimeLineData","display"],outputs:["calls","callRange"],autodisplay:!1},{id:27,mode:"js",pinned:!1,hidden:!1,body:yi,inputs:["display"],outputs:["test","xxx"],autodisplay:!1},{id:28,mode:"md",pinned:!1,hidden:!1,body:bi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:29,mode:"md",pinned:!1,hidden:!1,body:_i,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:30,mode:"js",pinned:!1,hidden:!1,body:vi,inputs:["phonesTimeLineData","display"],outputs:["phoneIdToEntityDict"],autodisplay:!1},{id:31,mode:"md",pinned:!1,hidden:!1,body:gi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:32,mode:"js",pinned:!1,hidden:!1,body:wi,inputs:["phonesTimeLineData","display"],outputs:["phoneEntityTypeToTypeDict"],autodisplay:!1},{id:33,mode:"md",pinned:!1,hidden:!1,body:xi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:34,mode:"js",pinned:!1,hidden:!1,body:Ei,inputs:["entityLabelToIdDict","display"],outputs:["idToEntityLabelDict"],autodisplay:!1},{id:35,mode:"js",pinned:!1,hidden:!1,body:Ci,inputs:["callRange","d3","margin","width"],outputs:["getDate","now","until","nowDate","untilDate","scaleX"],autodisplay:!1},{id:36,mode:"js",pinned:!1,hidden:!1,body:Ti,inputs:[],outputs:["margin"],autodisplay:!1},{id:37,mode:"js",pinned:!1,hidden:!1,body:Di,inputs:["Timeline","timelineData","scaleX"],outputs:["timeline"],autodisplay:!1},{id:38,mode:"js",pinned:!1,hidden:!1,body:ki,inputs:["d3","width","dodge"],outputs:["Timeline"],autodisplay:!1},{id:39,mode:"js",pinned:!1,hidden:!1,body:Si,inputs:["d3"],outputs:["dodge"],autodisplay:!1},{id:40,mode:"js",pinned:!1,hidden:!1,body:Ii,inputs:["Plot","d3"],outputs:["beeswarm"],autodisplay:!1},{id:41,mode:"js",pinned:!1,hidden:!1,body:Ai,inputs:["filteredBinnedCalls","display"],outputs:["timelineData"],autodisplay:!1},{id:42,mode:"html",pinned:!1,hidden:!1,body:Oi,inputs:["html"],outputs:[],autodisplay:!0,autoview:!1},{id:43,mode:"md",pinned:!1,hidden:!1,body:$i,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:44,mode:"md",pinned:!1,hidden:!1,body:Pi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:45,mode:"md",pinned:!1,hidden:!1,body:ji,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:46,mode:"js",pinned:!1,hidden:!1,body:Mi,inputs:["FileAttachment","display"],outputs:["adjacencyList"],autodisplay:!1},{id:47,mode:"md",pinned:!1,hidden:!1,body:qi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:48,mode:"js",pinned:!1,hidden:!1,body:Li,inputs:["FileAttachment","display"],outputs:["timeBarData"],autodisplay:!1},{id:49,mode:"md",pinned:!1,hidden:!1,body:Ni,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:50,mode:"js",pinned:!1,hidden:!1,body:Ri,inputs:["FileAttachment","display"],outputs:["groupToChartIdsDict"],autodisplay:!1},{id:51,mode:"md",pinned:!1,hidden:!1,body:Fi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:52,mode:"js",pinned:!1,hidden:!1,body:Bi,inputs:["FileAttachment","display"],outputs:["phonesChartData"],autodisplay:!1},{id:53,mode:"md",pinned:!1,hidden:!1,body:zi,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:54,mode:"js",pinned:!1,hidden:!1,body:Vi,inputs:["FileAttachment","display"],outputs:["entityLabelToIdDict"],autodisplay:!1},{id:55,mode:"md",pinned:!1,hidden:!1,body:Ui,inputs:["md"],outputs:[],autodisplay:!0,autoview:!1},{id:56,mode:"js",pinned:!1,hidden:!1,body:Yi,inputs:["FileAttachment","display"],outputs:["phonesTimeLineData"],autodisplay:!1}];function Gi(e){new Vo().render(Hi,e)}Gi(document.getElementById("placeholder"));export{h as _};
