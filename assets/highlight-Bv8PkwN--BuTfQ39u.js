const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DNwLE6Kk-DegimPG4.js","./index-B7vRtYlU-DQhGtce-.js","./index-IdJxqKHq.js","./index-MlFFXzMD.css","./index-COHaJzee-BxFZ5ePX.js","./index-D3TL70UM-s2sxGSqd.js","./index-CP3HrqN0-PgAeXVjB.js"])))=>i.map(i=>d[i]);
import{_ as oe}from"./index-IdJxqKHq.js";var _t=Object.defineProperty,f=(s,e)=>_t(s,"name",{value:e,configurable:!0});const Nt=1024;let vt=0;const je=class{constructor(e,t){this.from=e,this.to=t}};f(je,"Range");let be=je;const Le=class{constructor(e={}){this.id=vt++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=$.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};f(Le,"NodeProp");let C=Le;C.closedBy=new C({deserialize:f(s=>s.split(" "),"deserialize")});C.openedBy=new C({deserialize:f(s=>s.split(" "),"deserialize")});C.group=new C({deserialize:f(s=>s.split(" "),"deserialize")});C.isolate=new C({deserialize:f(s=>{if(s&&s!="rtl"&&s!="ltr"&&s!="auto")throw new RangeError("Invalid value for isolate: "+s);return s||"auto"},"deserialize")});C.contextHash=new C({perNode:!0});C.lookAhead=new C({perNode:!0});C.mounted=new C({perNode:!0});const De=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[C.mounted.id]}};f(De,"MountedTree");let ge=De;const Ct=Object.create(null),He=class Fe{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Ct,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Fe(e.name||"",t,e.id,r);if(e.props){for(let n of e.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(C.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(C.group),n=-1;n<(i?i.length:0);n++){let l=t[n<0?r.name:i[n]];if(l)return l}}}};f(He,"NodeType");let $=He;$.none=new $("",Object.create(null),0,8);const Ve=class We{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let n of e){let l=n(r);l&&(i||(i=Object.assign({},r.props)),i[l[0].id]=l[1])}t.push(i?new $(r.name,i,r.id,r.flags):r)}return new We(t)}};f(Ve,"NodeSet");let Lt=Ve;const he=new WeakMap,ze=new WeakMap;var P;(function(s){s[s.ExcludeBuffers=1]="ExcludeBuffers",s[s.IncludeAnonymous=2]="IncludeAnonymous",s[s.IgnoreMounts=4]="IgnoreMounts",s[s.IgnoreOverlays=8]="IgnoreOverlays"})(P||(P={}));const Ue=class we{constructor(e,t,r,i,n){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,n&&n.length){this.props=Object.create(null);for(let[l,a]of n)this.props[typeof l=="number"?l:l.id]=a}}toString(){let e=ge.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ve(this.topNode,e)}cursorAt(e,t=0,r=0){let i=he.get(this)||this.topNode,n=new ve(i);return n.moveTo(e,t),he.set(this,n._tree),n}get topNode(){return new J(this,0,0,null)}resolve(e,t=0){let r=te(he.get(this)||this.topNode,e,t,!1);return he.set(this,r),r}resolveInner(e,t=0){let r=te(ze.get(this)||this.topNode,e,t,!0);return ze.set(this,r),r}resolveStack(e,t=0){return tt(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:n=this.length}=e,l=e.mode||0,a=(l&P.IncludeAnonymous)>0;for(let u=this.cursor(l|P.IncludeAnonymous);;){let g=!1;if(u.from<=n&&u.to>=i&&(!a&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;g=!0}for(;g&&r&&(a||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;g=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:xe($.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new we(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new we($.none,t,r,i)))}static build(e){return it(e)}};f(Ue,"Tree");let Y=Ue;Y.empty=new Y($.none,[],[],0);const qe=class Ke{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ke(this.buffer,this.index)}};f(qe,"FlatBufferCursor");let St=qe;const $e=class Je{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return $.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],n=i.name;if(/\W/.test(n)&&!i.isError&&(n=JSON.stringify(n)),e+=4,r==e)return n;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return n+"("+l.join(",")+")"}findChild(e,t,r,i,n){let{buffer:l}=this,a=-1;for(let u=e;u!=t&&!(Ae(n,i,l[u+1],l[u+2])&&(a=u,r>0));u=l[u+3]);return a}slice(e,t,r){let i=this.buffer,n=new Uint16Array(t-e),l=0;for(let a=e,u=0;a<t;){n[u++]=i[a++],n[u++]=i[a++]-r;let g=n[u++]=i[a++]-r;n[u++]=i[a++]-e,l=Math.max(l,g)}return new Je(n,l,this.set)}};f($e,"TreeBuffer");let ee=$e;function Ae(s,e,t,r){switch(s){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}f(Ae,"checkSide");function te(s,e,t,r){for(var i;s.from==s.to||(t<1?s.from>=e:s.from>e)||(t>-1?s.to<=e:s.to<e);){let l=!r&&s instanceof J&&s.index<0?null:s.parent;if(!l)return s;s=l}let n=r?0:P.IgnoreOverlays;if(r)for(let l=s,a=l.parent;a;l=a,a=l.parent)l instanceof J&&l.index<0&&((i=a.enter(e,t,n))===null||i===void 0?void 0:i.from)!=l.from&&(s=a);for(;;){let l=s.enter(e,t,n);if(!l)return s;s=l}}f(te,"resolveNode");const Ge=class{cursor(e=0){return new ve(this,e)}getChild(e,t=null,r=null){let i=_e(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return _e(this,e,t,r)}resolve(e,t=0){return te(this,e,t,!1)}resolveInner(e,t=0){return te(this,e,t,!0)}matchContext(e){return pe(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}};f(Ge,"BaseNode");let Qe=Ge;const Xe=class de extends Qe{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,n=0){for(let l=this;;){for(let{children:a,positions:u}=l._tree,g=t>0?a.length:-1;e!=g;e+=t){let x=a[e],p=u[e]+l.from;if(Ae(i,r,p,p+x.length)){if(x instanceof ee){if(n&P.ExcludeBuffers)continue;let m=x.findChild(0,x.buffer.length,t,r-p,i);if(m>-1)return new Ne(new At(l,x,e,p),null,m)}else if(n&P.IncludeAnonymous||!x.type.isAnonymous||ye(x)){let m;if(!(n&P.IgnoreMounts)&&(m=ge.get(x))&&!m.overlay)return new de(m.tree,p,e,l);let _=new de(x,p,e,l);return n&P.IncludeAnonymous||!_.type.isAnonymous?_:_.nextChild(t<0?x.children.length-1:0,t,r,i)}}}if(n&P.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&P.IgnoreOverlays)&&(i=ge.get(this._tree))&&i.overlay){let n=e-this.from;for(let{from:l,to:a}of i.overlay)if((t>0?l<=n:l<n)&&(t<0?a>=n:a>n))return new de(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};f(Xe,"TreeNode");let J=Xe;function _e(s,e,t,r){let i=s.cursor(),n=[];if(!i.firstChild())return n;if(t!=null){for(let l=!1;!l;)if(l=i.type.is(t),!i.nextSibling())return n}for(;;){if(r!=null&&i.type.is(r))return n;if(i.type.is(e)&&n.push(i.node),!i.nextSibling())return r==null?n:[]}}f(_e,"getChildren");function pe(s,e,t=e.length-1){for(let r=s;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}f(pe,"matchNodeContext");const Ye=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}};f(Ye,"BufferContext");let At=Ye;const Ze=class ne extends Qe{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,n=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return n<0?null:new ne(this.context,this,n)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&P.ExcludeBuffers)return null;let{buffer:i}=this.context,n=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return n<0?null:new ne(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ne(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ne(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,n=r.buffer[this.index+3];if(n>i){let l=r.buffer[this.index+1];e.push(r.slice(i,n,l)),t.push(0)}return new Y(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};f(Ze,"BufferNode");let Ne=Ze;function Te(s){if(!s.length)return null;let e=0,t=s[0];for(let n=1;n<s.length;n++){let l=s[n];(l.from>t.from||l.to<t.to)&&(t=l,e=n)}let r=t instanceof J&&t.index<0?null:t.parent,i=s.slice();return r?i[e]=r:i.splice(e,1),new Tt(i,t)}f(Te,"iterStack");const et=class{constructor(e,t){this.heads=e,this.node=t}get next(){return Te(this.heads)}};f(et,"StackIterator");let Tt=et;function tt(s,e,t){let r=s.resolveInner(e,t),i=null;for(let n=r instanceof J?r:r.context.parent;n;n=n.parent)if(n.index<0){let l=n.parent;(i||(i=[r])).push(l.resolve(e,t)),n=l}else{let l=ge.get(n.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let a=new J(l.tree,l.overlay[0].from+n.from,-1,n);(i||(i=[r])).push(te(a,e,t,!1))}}return i?Te(i):r}f(tt,"stackIterator");const rt=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof J)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof J?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,n=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return n<0?!1:(this.stack.push(this.index),this.yieldBuf(n))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&P.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&P.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&P.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let n=0;n<this.index;n++)if(i.buffer.buffer[n+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let n=t+e,l=e<0?-1:r._tree.children.length;n!=l;n+=e){let a=r._tree.children[n];if(this.mode&P.IncludeAnonymous||a instanceof ee||!a.type.isAnonymous||ye(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,n=this.stack.length;n>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;t=l,r=n+1;break e}i=this.stack[--n]}for(let i=r;i<this.stack.length;i++)t=new Ne(this.buffer,t,this.stack[i]);return this.bufferNode=new Ne(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return pe(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,n=this.stack.length-1;i>=0;n--){if(n<0)return pe(this._tree,e,i);let l=r[t.buffer[this.stack[n]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}};f(rt,"TreeCursor");let ve=rt;function ye(s){return s.children.some(e=>e instanceof ee||!e.type.isAnonymous||ye(e))}f(ye,"hasChild");function it(s){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=Nt,reused:n=[],minRepeatType:l=r.types.length}=s,a=Array.isArray(t)?new St(t,t.length):t,u=r.types,g=0,x=0;function p(b,N,c,S,k,A){let{id:y,start:d,end:w,size:v}=a,I=x,U=g;for(;v<0;)if(a.next(),v==-1){let V=n[y];c.push(V),S.push(d-b);return}else if(v==-3){g=y;return}else if(v==-4){x=y;return}else throw new RangeError(`Unrecognized record size: ${v}`);let re=u[y],le,G,Ie=d-b;if(w-d<=i&&(G=M(a.pos-N,k))){let V=new Uint16Array(G.size-G.skip),R=a.pos-G.size,L=V.length;for(;a.pos>R;)L=E(G.start,V,L);le=new ee(V,w-G.start,r),Ie=G.start-b}else{let V=a.pos-v;a.next();let R=[],L=[],Q=y>=l?y:-1,Z=0,ae=w;for(;a.pos>V;)Q>=0&&a.id==Q&&a.size>=0?(a.end<=ae-i&&(B(R,L,d,Z,a.end,ae,Q,I,U),Z=R.length,ae=a.end),a.next()):A>2500?m(d,V,R,L):p(d,V,R,L,Q,A+1);if(Q>=0&&Z>0&&Z<R.length&&B(R,L,d,Z,d,ae,Q,I,U),R.reverse(),L.reverse(),Q>-1&&Z>0){let Pe=_(re,U);le=xe(re,R,L,0,R.length,0,w-d,Pe,Pe)}else le=O(re,R,L,w-d,I-w,U)}c.push(le),S.push(Ie)}f(p,"takeNode");function m(b,N,c,S){let k=[],A=0,y=-1;for(;a.pos>N;){let{id:d,start:w,end:v,size:I}=a;if(I>4)a.next();else{if(y>-1&&w<y)break;y<0&&(y=v-i),k.push(d,w,v),A++,a.next()}}if(A){let d=new Uint16Array(A*4),w=k[k.length-2];for(let v=k.length-3,I=0;v>=0;v-=3)d[I++]=k[v],d[I++]=k[v+1]-w,d[I++]=k[v+2]-w,d[I++]=I;c.push(new ee(d,k[2]-w,r)),S.push(w-b)}}f(m,"takeFlatNode");function _(b,N){return(c,S,k)=>{let A=0,y=c.length-1,d,w;if(y>=0&&(d=c[y])instanceof Y){if(!y&&d.type==b&&d.length==k)return d;(w=d.prop(C.lookAhead))&&(A=S[y]+d.length+w)}return O(b,c,S,k,A,N)}}f(_,"makeBalanced");function B(b,N,c,S,k,A,y,d,w){let v=[],I=[];for(;b.length>S;)v.push(b.pop()),I.push(N.pop()+c-k);b.push(O(r.types[y],v,I,A-k,d-A,w)),N.push(k-c)}f(B,"makeRepeatLeaf");function O(b,N,c,S,k,A,y){if(A){let d=[C.contextHash,A];y=y?[d].concat(y):[d]}if(k>25){let d=[C.lookAhead,k];y=y?[d].concat(y):[d]}return new Y(b,N,c,S,y)}f(O,"makeTree");function M(b,N){let c=a.fork(),S=0,k=0,A=0,y=c.end-i,d={size:0,start:0,skip:0};e:for(let w=c.pos-b;c.pos>w;){let v=c.size;if(c.id==N&&v>=0){d.size=S,d.start=k,d.skip=A,A+=4,S+=4,c.next();continue}let I=c.pos-v;if(v<0||I<w||c.start<y)break;let U=c.id>=l?4:0,re=c.start;for(c.next();c.pos>I;){if(c.size<0)if(c.size==-3)U+=4;else break e;else c.id>=l&&(U+=4);c.next()}k=re,S+=v,A+=U}return(N<0||S==b)&&(d.size=S,d.start=k,d.skip=A),d.size>4?d:void 0}f(M,"findBufferSize");function E(b,N,c){let{id:S,start:k,end:A,size:y}=a;if(a.next(),y>=0&&S<l){let d=c;if(y>4){let w=a.pos-(y-4);for(;a.pos>w;)c=E(b,N,c)}N[--c]=d,N[--c]=A-b,N[--c]=k-b,N[--c]=S}else y==-3?g=S:y==-4&&(x=S);return c}f(E,"copyToBuffer");let z=[],T=[];for(;a.pos>0;)p(s.start||0,s.bufferStart||0,z,T,-1,0);let j=(e=s.length)!==null&&e!==void 0?e:z.length?T[0]+z[0].length:0;return new Y(u[s.topID],z.reverse(),T.reverse(),j)}f(it,"buildTree");const Oe=new WeakMap;function se(s,e){if(!s.isAnonymous||e instanceof ee||e.type!=s)return 1;let t=Oe.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=s||!(r instanceof Y)){t=1;break}t+=se(s,r)}Oe.set(e,t)}return t}f(se,"nodeSize");function xe(s,e,t,r,i,n,l,a,u){let g=0;for(let B=r;B<i;B++)g+=se(s,e[B]);let x=Math.ceil(g*1.5/8),p=[],m=[];function _(B,O,M,E,z){for(let T=M;T<E;){let j=T,b=O[T],N=se(s,B[T]);for(T++;T<E;T++){let c=se(s,B[T]);if(N+c>=x)break;N+=c}if(T==j+1){if(N>x){let c=B[j];_(c.children,c.positions,0,c.children.length,O[j]+z);continue}p.push(B[j])}else{let c=O[T-1]+B[T-1].length-b;p.push(xe(s,B,O,j,T,b,c,null,u))}m.push(b+z-n)}}return f(_,"divide"),_(e,t,r,i,0),(a||u)(p,m,l)}f(xe,"balanceRange");const nt=class{startParse(e,t,r){return typeof e=="string"&&(e=new Bt(e)),r=r?r.length?r.map(i=>new be(i.from,i.to)):[new be(0,0)]:[new be(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let n=i.advance();if(n)return n}}};f(nt,"Parser");let Ut=nt;const st=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};f(st,"StringInput");let Bt=st;new C({perNode:!0});let It=0;const lt=class Ce{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=It++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Ce&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new Ce(r,[],null,[]);if(i.set.push(i),t)for(let n of t.set)i.set.push(n);return i}static defineModifier(e){let t=new Ee(e);return r=>r.modified.indexOf(t)>-1?r:Ee.get(r.base||r,r.modified.concat(t).sort((i,n)=>i.id-n.id))}};f(lt,"Tag");let W=lt,Pt=0;const at=class ot{constructor(e){this.name=e,this.instances=[],this.id=Pt++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&ht(t,a.modified));if(r)return r;let i=[],n=new W(e.name,i,e,t);for(let a of t)a.instances.push(n);let l=ft(t);for(let a of e.set)if(!a.modified.length)for(let u of l)i.push(ot.get(a,u));return n}};f(at,"Modifier");let Ee=at;function ht(s,e){return s.length==e.length&&s.every((t,r)=>t==e[r])}f(ht,"sameArray");function ft(s){let e=[[]];for(let t=0;t<s.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(s[t]));return e.sort((t,r)=>r.length-t.length)}f(ft,"powerSet");function zt(s){let e=Object.create(null);for(let t in s){let r=s[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let n=[],l=2,a=i;for(let p=0;;){if(a=="..."&&p>0&&p+3==i.length){l=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!m)throw new RangeError("Invalid path: "+i);if(n.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),p+=m[0].length,p==i.length)break;let _=i[p++];if(p==i.length&&_=="!"){l=0;break}if(_!="/")throw new RangeError("Invalid path: "+i);a=i.slice(p)}let u=n.length-1,g=n[u];if(!g)throw new RangeError("Invalid path: "+i);let x=new me(r,l,u>0?n.slice(0,u):null);e[g]=x.sort(e[g])}}return ut.add(e)}f(zt,"styleTags");const ut=new C,ct=class{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};f(ct,"Rule");let me=ct;me.empty=new me([],2,null);function Be(s,e){let t=Object.create(null);for(let n of s)if(!Array.isArray(n.tag))t[n.tag.id]=n.class;else for(let l of n.tag)t[l.id]=n.class;let{scope:r,all:i=null}=e||{};return{style:f(n=>{let l=i;for(let a of n)for(let u of a.set){let g=t[u.id];if(g){l=l?l+" "+g:g;break}}return l},"style"),scope:r}}f(Be,"tagHighlighter");function dt(s,e){let t=null;for(let r of s){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}f(dt,"highlightTags");function gt(s,e,t,r=0,i=s.length){let n=new Ot(r,Array.isArray(e)?e:[e],t);n.highlightRange(s.cursor(),r,i,"",n.highlighters),n.flush(i)}f(gt,"highlightTree");function pt(s,e,t,r,i,n=0,l=s.length){let a=n;function u(g,x){if(!(g<=a)){for(let p=s.slice(a,g),m=0;;){let _=p.indexOf(`
`,m),B=_<0?p.length:_;if(B>m&&r(p.slice(m,B),x),_<0)break;i(),m=_+1}a=g}}f(u,"writeTo"),gt(e,t,(g,x,p)=>{u(g,""),u(x,p)},n,l),u(l,"")}f(pt,"highlightCode");const mt=class{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,n){let{type:l,from:a,to:u}=e;if(a>=r||u<=t)return;l.isTop&&(n=this.highlighters.filter(_=>!_.scope||_.scope(l)));let g=i,x=yt(e)||me.empty,p=dt(n,x.tags);if(p&&(g&&(g+=" "),g+=p,x.mode==1&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(t,a),g),x.opaque)return;let m=e.tree&&e.tree.prop(C.mounted);if(m&&m.overlay){let _=e.node.enter(m.overlay[0].from+a,1),B=this.highlighters.filter(M=>!M.scope||M.scope(m.tree.type)),O=e.firstChild();for(let M=0,E=a;;M++){let z=M<m.overlay.length?m.overlay[M]:null,T=z?z.from+a:u,j=Math.max(t,E),b=Math.min(r,T);if(j<b&&O)for(;e.from<b&&(this.highlightRange(e,j,b,i,n),this.startSpan(Math.min(b,e.to),g),!(e.to>=T||!e.nextSibling())););if(!z||T>r)break;E=z.to+a,E>t&&(this.highlightRange(_.cursor(),Math.max(t,z.from+a),Math.min(r,E),"",B),this.startSpan(Math.min(r,E),g))}O&&e.parent()}else if(e.firstChild()){m&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,n),this.startSpan(Math.min(r,e.to),g)}while(e.nextSibling());e.parent()}}};f(mt,"HighlightBuilder");let Ot=mt;function yt(s){let e=s.type.prop(ut);for(;e&&e.context&&!s.matchContext(e.context);)e=e.next;return e||null}f(yt,"getStyleTags");const o=W.define,fe=o(),q=o(),Re=o(q),Me=o(q),K=o(),ue=o(K),ke=o(K),F=o(),X=o(F),D=o(),H=o(),Se=o(),ie=o(Se),ce=o(),h={comment:fe,lineComment:o(fe),blockComment:o(fe),docComment:o(fe),name:q,variableName:o(q),typeName:Re,tagName:o(Re),propertyName:Me,attributeName:o(Me),className:o(q),labelName:o(q),namespace:o(q),macroName:o(q),literal:K,string:ue,docString:o(ue),character:o(ue),attributeValue:o(ue),number:ke,integer:o(ke),float:o(ke),bool:o(K),regexp:o(K),escape:o(K),color:o(K),url:o(K),keyword:D,self:o(D),null:o(D),atom:o(D),unit:o(D),modifier:o(D),operatorKeyword:o(D),controlKeyword:o(D),definitionKeyword:o(D),moduleKeyword:o(D),operator:H,derefOperator:o(H),arithmeticOperator:o(H),logicOperator:o(H),bitwiseOperator:o(H),compareOperator:o(H),updateOperator:o(H),definitionOperator:o(H),typeOperator:o(H),controlOperator:o(H),punctuation:Se,separator:o(Se),bracket:ie,angleBracket:o(ie),squareBracket:o(ie),paren:o(ie),brace:o(ie),content:F,heading:X,heading1:o(X),heading2:o(X),heading3:o(X),heading4:o(X),heading5:o(X),heading6:o(X),contentSeparator:o(F),list:o(F),quote:o(F),emphasis:o(F),strong:o(F),link:o(F),monospace:o(F),strikethrough:o(F),inserted:o(),deleted:o(),changed:o(),invalid:o(),meta:ce,documentMeta:o(ce),annotation:o(ce),processingInstruction:o(ce),definition:W.defineModifier("definition"),constant:W.defineModifier("constant"),function:W.defineModifier("function"),standard:W.defineModifier("standard"),local:W.defineModifier("local"),special:W.defineModifier("special")};for(let s in h){let e=h[s];e instanceof W&&(e.name=s)}Be([{tag:h.link,class:"tok-link"},{tag:h.heading,class:"tok-heading"},{tag:h.emphasis,class:"tok-emphasis"},{tag:h.strong,class:"tok-strong"},{tag:h.keyword,class:"tok-keyword"},{tag:h.atom,class:"tok-atom"},{tag:h.bool,class:"tok-bool"},{tag:h.url,class:"tok-url"},{tag:h.labelName,class:"tok-labelName"},{tag:h.inserted,class:"tok-inserted"},{tag:h.deleted,class:"tok-deleted"},{tag:h.literal,class:"tok-literal"},{tag:h.string,class:"tok-string"},{tag:h.number,class:"tok-number"},{tag:[h.regexp,h.escape,h.special(h.string)],class:"tok-string2"},{tag:h.variableName,class:"tok-variableName"},{tag:h.local(h.variableName),class:"tok-variableName tok-local"},{tag:h.definition(h.variableName),class:"tok-variableName tok-definition"},{tag:h.special(h.variableName),class:"tok-variableName2"},{tag:h.definition(h.propertyName),class:"tok-propertyName tok-definition"},{tag:h.typeName,class:"tok-typeName"},{tag:h.namespace,class:"tok-namespace"},{tag:h.className,class:"tok-className"},{tag:h.macroName,class:"tok-macroName"},{tag:h.propertyName,class:"tok-propertyName"},{tag:h.operator,class:"tok-operator"},{tag:h.comment,class:"tok-comment"},{tag:h.meta,class:"tok-meta"},{tag:h.invalid,class:"tok-invalid"},{tag:h.punctuation,class:"tok-punctuation"}]);const xt=Be([{tag:h.link,class:"tok-link"},{tag:[h.heading,h.strong],class:"tok-strong"},{tag:h.emphasis,class:"tok-emphasis"},{tag:[h.keyword,h.typeName],class:"tok-keyword"},{tag:h.atom,class:"tok-atom"},{tag:[h.bool,h.escape,h.number],class:"tok-literal"},{tag:[h.string,h.regexp],class:"tok-string"},{tag:h.comment,class:"tok-comment"},{tag:h.invalid,class:"tok-invalid"},{tag:h.variableName,class:"tok-variable"},{tag:[h.definition(h.variableName),h.className,h.propertyName],class:"tok-definition"},{tag:h.meta,class:"tok-meta"}]);async function bt(s){const e=wt(s);if(!e)return;const t=s.parentElement;t&&(t.dataset.language=e);const r=await kt(e);if(!r)return;const i=s.ownerDocument,n=s.textContent,l=r.parse(n);for(;s.lastChild;)s.lastChild.remove();function a(g,x){let p=i.createTextNode(g);if(x){const m=i.createElement("span");m.appendChild(p),m.className=x,p=m}s.appendChild(p)}f(a,"emit");function u(){s.appendChild(i.createTextNode(`
`))}f(u,"emitBreak"),pt(n,l,xt,a,u)}f(bt,"highlight");async function kt(s){switch(s){case"js":case"ts":case"jsx":return(await oe(async()=>{const{parser:e}=await import("./index-DNwLE6Kk-DegimPG4.js");return{parser:e}},__vite__mapDeps([0,1,2,3]),import.meta.url)).parser.configure({dialect:s});case"html":return(await oe(async()=>{const{parser:e}=await import("./index-COHaJzee-BxFZ5ePX.js");return{parser:e}},__vite__mapDeps([4,1,2,3]),import.meta.url)).parser;case"css":return(await oe(async()=>{const{parser:e}=await import("./index-D3TL70UM-s2sxGSqd.js");return{parser:e}},__vite__mapDeps([5,1,2,3]),import.meta.url)).parser;case"md":case"markdown":return(await oe(async()=>{const{parser:e}=await import("./index-CP3HrqN0-PgAeXVjB.js");return{parser:e}},__vite__mapDeps([6,2,3]),import.meta.url)).parser}}f(kt,"getParser");function wt(s){const e=[...s.classList].find(t=>t.startsWith("language-"))?.slice(9)?.toLowerCase();switch(e){case"javascript":return"js";case"typescript":return"ts"}return e}f(wt,"getLanguage");const Jt=Object.freeze(Object.defineProperty({__proto__:null,highlight:bt,highlighter:xt},Symbol.toStringTag,{value:"Module"}));export{Nt as D,P as I,Lt as N,Ut as P,Y as T,$ as a,C as b,W as c,Jt as h,zt as s,h as t};
